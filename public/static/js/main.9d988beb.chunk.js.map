{"version":3,"sources":["reducers/auth/AuthContext.js","types/types.js","reducers/auth/authReducer.js","ui/Navbar.js","reducers/sections/sectionsContext.js","ui/DashboardNav.js","components/DashboardScreen.js","components/company/EditGroup.js","helpers/uploadFiles.js","hooks/useForm.js","helpers/fetch.js","actions/company.action.js","reducers/CompanyContext.js","components/company/UpdateCompany.js","components/company/AddCompany.js","components/CompanyScreen.js","actions/auth.action.js","components/auth/LoginScreen.js","components/auth/SignupScreen.js","reducers/MaquinasReducer.js","components/maquinas/MaquinaCard.js","actions/maquina.action.js","components/maquinas/EditMaquina.js","components/maquinas/AddMaquina.js","components/MaquinasScreen.js","actions/sections.action.js","components/sections/EditGroupSection.js","ui/TextEditor.js","components/SectionScreen.js","components/sections/AddSection.js","reducers/sections/SectionsReducer.js","reducers/CompanyReducer.js","routers/AppRouter.js","App.js","index.js"],"names":["AuthContext","createContext","require","types","login","signup","logout","hasToken","getCompany","addCompany","companyUpdate","companyDelete","maquinasCategoriesUpdate","deleteProperty","addSection","getMaquinas","getThisMaquinas","updateThisMaquinas","addMaquina","maquinaUpdate","maquinaDelete","featuresUpdate","galleryUpdate","getSections","sectionUpdate","deleteSection","updateThis","AuthReducer","state","action","type","payload","logged","Navbar","className","src","alt","to","SectionContext","DashboardNav","handleShow","sections","useContext","dispatch","user","handleLogout","a","localStorage","removeItem","data-toggle","icon","length","map","st","_id","sectionName","email","onClick","DashboardScreen","name","EditGroup","nameValue","deleteField","inputType","editLabel","editAction","editValue","submitEdit","imageEdit","useState","show","setShow","handleClose","Modal","onHide","Header","Title","Body","onSubmit","onChange","placeholder","Footer","fileUpload","file","formData","FormData","append","fetch","method","body","then","data","json","url","secure_url","catch","err","console","log","useForm","initialState","values","setValues","resetForm","handleInputChange","target","value","handleFileChange","files","baseURL","process","fetchSinToken","endpoint","headers","JSON","stringify","fetchConToken","token","getItem","company","resp","ok","companyCreated","updateCompany","id","updatedCompany","errorMsg","error","Swal","fire","deleteCompany","CompanyContext","UpdateCompany","auxValue","setAuxValue","dispatchCompany","phone","address","mainEmail","mainLogo","secondaryLogo","linkedin","facebook","twitter","instagram","maquinasCategories","clearInput","document","getElementById","handleDelete","property","handleSubmit","e","preventDefault","saveChanges","includes","ft","idx","categoriesCopy","splice","deleteFeature","AddCompany","setFetchingCompany","htmlFor","CompanyScreen","isMounted","useRef","useEffect","current","startLogin","password","loggedUser","setItem","msg","startSignup","signedupUser","LoginScreen","handleLogin","SignupScreen","password2","handleSignup","MaquinasReducer","features","gallery","MaquinaCard","maquina","getID","askIfDelete","order","image","createMaquina","updateMaquina","deleteMaquina","EditMaquina","setFetchingMaquinaria","setmaquinaSelected","useReducer","maquinaToUpdate","handleGalleryChange","category","required","defaultValue","cat","featCopy","picture","galleryCopy","deletePicture","AddMaquina","maquinaToCreate","MaquinasScreen","modalId","setModalId","maquinaSelected","handleModal","Error","fetchingMaquinaria","maquinasData","dispatchMaquinasData","prueba","sort","b","handleDeleteMaquina","title","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","visible","maq","dialogClassName","centered","displayModal","section","updateSection","EditGroupSection","React","memo","TextEditor","setQuill","handleQuill","setParsed","setValue","quillRef","__html","ref","modules","toolbar","container","header","font","size","list","indent","clipboard","matchVisual","formats","theme","SectionScreen","dispatchSections","useParams","parsedText","subtitle","idSection","uniqueImage","formInputs","history","useHistory","thisSection","quill","parsed","find","sect","input","push","sectionGroup","sectionUpdated","inp","inputCopy","deleteFormInput","dangerouslySetInnerHTML","AddSection","newSection","sectionType","autoComplete","SectionsReducer","CompanyReducer","addCompnany","AppRouter","Provider","exact","path","component","props","library","add","fab","faTimesCircle","faChevronDown","faChevronUp","faCheckCircle","init","parse","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.9d988beb.chunk.js","sourcesContent":["const { createContext } = require('react')\n\nexport const AuthContext = createContext()\n","export const types = {\n\tlogin: '[auth] login',\n\tsignup: '[auth] signup',\n\tlogout: '[auth] logout',\n\thasToken: '[auth] hastoken',\n\n\tgetCompany: '[company] getCompany',\n\taddCompany: '[company] addCompany',\n\tcompanyUpdate: '[company] companyUpdate',\n\tcompanyDelete: '[company] companyDelete',\n\tmaquinasCategoriesUpdate: '[company] maquinasCategoriesUpdate',\n\tdeleteProperty: '[company] deleteProperty',\n\n\taddSection: '[sections] addSection',\n\n\tgetMaquinas: '[Maquina] getMaquina',\n\tgetThisMaquinas: '[Maquina] getThisMaquina',\n\tupdateThisMaquinas: '[Maquina] updateThisMaquinas',\n\taddMaquina: '[Maquina] addMaquina',\n\tmaquinaUpdate: '[Maquina] MaquinaUpdate',\n\tmaquinaDelete: '[Maquina] MaquinaDelete',\n\tfeaturesUpdate: '[Maquina] featuresUpdate',\n\tgalleryUpdate: '[Maquina] galleryUpdate',\n\n\tgetSections: '[Section] getSections',\n\tsectionUpdate: '[Section] sectionUpdate',\n\tdeleteSection: '[Section] deleteSection',\n\tupdateThis: '[Section] updateThis',\n}\n","import { types } from '../../types/types'\n\nexport const AuthReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase types.login:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.signup:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.hasToken:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.logout:\n\t\t\treturn {\n\t\t\t\tlogged: false,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nexport const Navbar = () => {\n\treturn (\n\t\t<nav className='login-nav'>\n\t\t\t<div className='container'>\n\t\t\t\t<figure>\n\t\t\t\t\t<img src='https://res.cloudinary.com/mbr-app/image/upload/v1605125325/logoSecundario_lnnyol.svg' alt='' />\n\t\t\t\t</figure>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to='/'>Entrar</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to='/registro'>Registro</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</nav>\n\t)\n}\n","const { createContext } = require('react')\n\nexport const SectionContext = createContext()\n","import React, { useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport { AuthContext } from './../reducers/auth/AuthContext'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { SectionContext } from '../reducers/sections/sectionsContext'\nimport { types } from '../types/types'\n\nexport const DashboardNav = ({ handleShow }) => {\n\tconst { sections } = useContext(SectionContext)\n\tconst { dispatch, user } = useContext(AuthContext)\n\n\tconst handleLogout = async () => {\n\t\tawait dispatch({ type: types.logout })\n\t\tawait localStorage.removeItem('mbr-token')\n\t\tawait localStorage.removeItem('mbr-user')\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<nav className='dash-nav'>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to='/mbr'>\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t<img src='https://res.cloudinary.com/mbr-app/image/upload/v1605125325/logoSecundario_lnnyol.svg' alt='' />\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to='/mbr/empresa'>Datos de empresa</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to='/mbr/maquinaria'>Maquinaria</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className='dropdown'>\n\t\t\t\t\t\t<p data-toggle='dropdown'>\n\t\t\t\t\t\t\tSecciones de la web <FontAwesomeIcon icon='chevron-down' />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t{sections.length > 0 && (\n\t\t\t\t\t\t\t<ul className='dropdown-menu'>\n\t\t\t\t\t\t\t\t{sections.map((st) => (\n\t\t\t\t\t\t\t\t\t<li key={st._id}>\n\t\t\t\t\t\t\t\t\t\t<Link to={`/mbr/seccion/${st._id}`}>{st.sectionName}</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div className='btn-group'>\n\t\t\t\t\t<small>Made with &hearts; by Yai</small>\n\t\t\t\t\t<small>&copy; Mecánica Brañosera S.L.</small>\n\t\t\t\t\t{user.email === 'admin@yai.com' && (\n\t\t\t\t\t\t<button className='my-btn third mini' onClick={handleShow}>\n\t\t\t\t\t\t\tAñadir Sección\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t\t<button className='my-btn secondary mini' onClick={handleLogout}>\n\t\t\t\t\t\tCerrar Sesión\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t</>\n\t)\n}\n","import React, { useContext } from 'react'\nimport { AuthContext } from './../reducers/auth/AuthContext'\n\nexport const DashboardScreen = () => {\n\tconst { user } = useContext(AuthContext)\n\treturn (\n\t\t<div>\n\t\t\t<h1>¡Bienvenid@ {user.name}!</h1>\n\t\t</div>\n\t)\n}\n","import React, { useState } from 'react'\nimport Modal from 'react-bootstrap/Modal'\n\nexport const EditGroup = ({ nameValue, deleteField, inputType, editLabel, editAction, editValue, submitEdit, imageEdit = false }) => {\n\tconst [show, setShow] = useState(false)\n\n\tconst handleClose = () => setShow(false)\n\tconst handleShow = () => setShow(true)\n\n\treturn (\n\t\t<>\n\t\t\t{editValue ? (\n\t\t\t\t<div className='edit-group'>\n\t\t\t\t\t{imageEdit ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p>{editLabel}: </p>\n\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t<img src={editValue} alt={nameValue} />\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{editLabel}: <strong>{editValue}</strong>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button className='my-btn mini secondary' onClick={() => deleteField(nameValue)}>\n\t\t\t\t\t\t\tBorrar\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button className='my-btn mini' onClick={handleShow}>\n\t\t\t\t\t\t\tEditar\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className='edit-group'>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{editLabel}: <small>Sin datos</small>\n\t\t\t\t\t</p>\n\t\t\t\t\t<button className='my-btn mini' onClick={handleShow}>\n\t\t\t\t\t\tAñadir\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<Modal className='edit-modal my-modals' show={show} onHide={handleClose}>\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>{editValue}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<form className='edit-form' onSubmit={submitEdit}>\n\t\t\t\t\t\t<input name={nameValue} type={inputType} onChange={editAction} placeholder={editValue} />\n\t\t\t\t\t\t<button className='my-btn' type='submit' onClick={handleClose}>\n\t\t\t\t\t\t\tGuardar\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<button className='my-btn' onClick={handleClose}>\n\t\t\t\t\t\tcerrar\n\t\t\t\t\t</button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</>\n\t)\n}\n","export const fileUpload = async (file) => {\n\tconst cloudUrl = 'https://api.cloudinary.com/v1_1/mbr-app/upload'\n\tconst formData = new FormData()\n\tformData.append('upload_preset', 'mbr-app')\n\tformData.append('file', file)\n\tlet url\n\n\tawait fetch(cloudUrl, { method: 'POST', body: formData })\n\t\t.then((data) => data.json())\n\t\t.then((data) => (url = data.secure_url))\n\t\t.catch((err) => console.log(err))\n\treturn url\n}\n","import { useState } from 'react'\nimport { fileUpload } from '../helpers/uploadFiles'\n\nconst useForm = (initialState = {}) => {\n\tconst [values, setValues] = useState(initialState)\n\n\tconst resetForm = () => {\n\t\tsetValues(initialState)\n\t}\n\n\tconst handleInputChange = ({ target }) => {\n\t\tsetValues({\n\t\t\t...values,\n\t\t\t[target.name]: target.value,\n\t\t})\n\t}\n\tconst handleFileChange = async ({ target }) => {\n\t\tconst file = target.files[0]\n\t\tconst url = await fileUpload(file)\n\t\tawait setValues({\n\t\t\t...values,\n\t\t\t[target.name]: url,\n\t\t})\n\t}\n\n\treturn { values, setValues, handleInputChange, handleFileChange, resetForm }\n}\n\nexport default useForm\n","const baseURL = process.env.REACT_APP_API_URL\n\nexport const fetchSinToken = (endpoint, data = {}, method = 'GET') => {\n\tconst url = `${baseURL}/${endpoint}`\n\tif (method === 'GET') {\n\t\treturn fetch(url)\n\t} else {\n\t\treturn fetch(url, {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t'Content-type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t})\n\t}\n}\n\nexport const fetchConToken = (endpoint, data = {}, method = 'GET') => {\n\tconst url = `${baseURL}/${endpoint}`\n\tconst token = localStorage.getItem('mbr-token') || ''\n\tif (method === 'GET') {\n\t\treturn fetch(url, {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t'x-token': token,\n\t\t\t},\n\t\t})\n\t} else {\n\t\treturn fetch(url, {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t'Content-type': 'application/json',\n\t\t\t\t'x-token': token,\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t})\n\t}\n}\n","import Swal from 'sweetalert2'\nimport { fetchConToken } from '../helpers/fetch'\n\nexport const addCompany = async (company) => {\n\tconst resp = await fetchConToken(`company/new`, company, 'POST')\n\tconst body = await resp.json()\n\tif (body.ok) {\n\t\tconst companyCreated = body.company\n\t\treturn companyCreated\n\t}\n}\nexport const updateCompany = async (id, company) => {\n\tconst resp = await fetchConToken(`company/update/${id}`, company, 'POST')\n\tconst body = await resp.json()\n\tif (body.ok) {\n\t\tconst updatedCompany = body.company\n\n\t\treturn updatedCompany\n\t} else {\n\t\tconst errorMsg = body.error\n\t\tSwal.fire('Error', errorMsg, 'error')\n\t}\n}\n\nexport const deleteCompany = async (id) => {\n\tawait fetchConToken(`company/delete/${id}`, {}, 'POST')\n}\n","const { createContext } = require('react')\n\nexport const CompanyContext = createContext()\n","import React, { useContext, useState } from 'react'\nimport Swal from 'sweetalert2'\nimport { EditGroup } from './EditGroup'\nimport useForm from './../../hooks/useForm'\nimport { deleteCompany, updateCompany } from './../../actions/company.action'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { types } from '../../types/types'\nimport { CompanyContext } from '../../reducers/CompanyContext'\n\nexport const UpdateCompany = () => {\n\tconst [auxValue, setAuxValue] = useState()\n\tconst { company, dispatchCompany } = useContext(CompanyContext)\n\n\tconst { name, phone, address, _id: id, mainEmail, mainLogo, secondaryLogo, linkedin, facebook, twitter, instagram, maquinasCategories } = company\n\tconst { values, setValues, handleInputChange, handleFileChange } = useForm(company)\n\n\tconst clearInput = () => {\n\t\tconst theinput = document.getElementById('to-reset-maq-feat')\n\t\ttheinput.value = ''\n\t}\n\n\tconst handleFeatureChange = (e) => {\n\t\tsetAuxValue(e.target.value)\n\t}\n\n\tconst handleAddFeature = (e) => {\n\t\te.preventDefault()\n\t\tif (!maquinasCategories.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tmaquinasCategories: [...maquinasCategories, auxValue],\n\t\t\t})\n\t\t\tdispatchCompany({ type: types.maquinasCategoriesUpdate, payload: [...maquinasCategories, auxValue] })\n\t\t\tclearInput()\n\t\t}\n\t\tclearInput()\n\t}\n\n\tconst deleteFeature = (idx) => {\n\t\tconst categoriesCopy = [...maquinasCategories]\n\t\tcategoriesCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tmaquinasCategories: categoriesCopy,\n\t\t})\n\t\tdispatchCompany({ type: types.maquinasCategoriesUpdate, payload: categoriesCopy })\n\t}\n\n\tconst handleDelete = async () => {\n\t\tawait deleteCompany(id)\n\t\tdispatchCompany({ type: types.companyDelete })\n\t}\n\n\tconst deleteField = async (property) => {\n\t\tconst payload = {\n\t\t\t...values,\n\t\t\t[property]: '',\n\t\t}\n\t\tsetValues({\n\t\t\t...values,\n\t\t\t[property]: '',\n\t\t})\n\t\tdispatchCompany({ type: types.updateCompany, payload })\n\t}\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault()\n\t\tdispatchCompany({ type: types.updateCompany, payload: values })\n\t}\n\n\tconst saveChanges = async () => {\n\t\tawait updateCompany(id, company)\n\t\tSwal.fire('¡Chachi!', 'Los cambios han sido guardados', 'success')\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<h1>Datos de empresa</h1>\n\t\t\t<button className='my-btn mini' onClick={saveChanges}>\n\t\t\t\tGuardar Cambios\n\t\t\t</button>\n\t\t\t<button className='my-btn secondary mini' onClick={handleDelete}>\n\t\t\t\tBorrar esta empresa\n\t\t\t</button>\n\n\t\t\t<div className='editing'>\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'name'} inputType={'text'} editLabel={'Nombre de empresa'} editAction={handleInputChange} editValue={name} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'address'} inputType={'text'} editLabel={'Dirección'} editAction={handleInputChange} editValue={address} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'phone'} inputType={'text'} editLabel={'Teléfono principal'} editAction={handleInputChange} editValue={phone} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'mainEmail'} inputType={'email'} editLabel={'Email principal'} editAction={handleInputChange} editValue={mainEmail} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup\n\t\t\t\t\tdeleteField={deleteField}\n\t\t\t\t\tnameValue={'mainLogo'}\n\t\t\t\t\timageEdit={true}\n\t\t\t\t\tinputType={'file'}\n\t\t\t\t\teditLabel={'Logo Principal'}\n\t\t\t\t\teditAction={handleFileChange}\n\t\t\t\t\teditValue={mainLogo}\n\t\t\t\t\tsubmitEdit={handleSubmit}\n\t\t\t\t/>\n\t\t\t\t<EditGroup\n\t\t\t\t\tdeleteField={deleteField}\n\t\t\t\t\tnameValue={'secondaryLogo'}\n\t\t\t\t\timageEdit={true}\n\t\t\t\t\tinputType={'file'}\n\t\t\t\t\teditLabel={'Logo BN'}\n\t\t\t\t\teditAction={handleFileChange}\n\t\t\t\t\teditValue={secondaryLogo}\n\t\t\t\t\tsubmitEdit={handleSubmit}\n\t\t\t\t/>\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'twitter'} inputType={'text'} editLabel={'Twitter Url'} editAction={handleInputChange} editValue={twitter} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'facebook'} inputType={'text'} editLabel={'Facebook url'} editAction={handleInputChange} editValue={facebook} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'instagram'} inputType={'text'} editLabel={'Instagram Url'} editAction={handleInputChange} editValue={instagram} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'linkedin'} inputType={'text'} editLabel={'Linkedin Url'} editAction={handleInputChange} editValue={linkedin} submitEdit={handleSubmit} />\n\n\t\t\t\t<div className='edit-group categories'>\n\t\t\t\t\t<form onSubmit={handleAddFeature}>\n\t\t\t\t\t\t<p className='maq-cat-title'>Categorías de máquinas:</p>\n\t\t\t\t\t\t<div className='features'>\n\t\t\t\t\t\t\t{maquinasCategories?.map((ft, idx) => (\n\t\t\t\t\t\t\t\t<div className='each-feat' key={ft}>\n\t\t\t\t\t\t\t\t\t{ft}\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon onClick={() => deleteFeature(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<input type='text' id='to-reset-maq-feat' onChange={handleFeatureChange} placeholder={'Añadir Característica'} name='features' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n","import React from 'react'\nimport { addCompany } from './../../actions/company.action'\nimport useForm from './../../hooks/useForm'\n\nexport const AddCompany = ({ company, setFetchingCompany }) => {\n\tconst { values, handleInputChange, handleFileChange } = useForm({})\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault()\n\t\tconst companyCreated = await addCompany(values)\n\n\t\t//Lift updated state to Company Screen\n\t\tsetFetchingCompany(true)\n\t\tcompany = companyCreated\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<form className='add-form' onSubmit={handleSubmit}>\n\t\t\t\t<input type='text' name='name' placeholder='Nombre de la empresa' onChange={handleInputChange} />\n\t\t\t\t<input type='email' name='mainEmail' placeholder='Correo Principal' onChange={handleInputChange} />\n\t\t\t\t<input type='text' name='phone' placeholder='Teléfono principal' onChange={handleInputChange} />\n\t\t\t\t<input type='text' name='address' placeholder='Dirección' onChange={handleInputChange} />\n\t\t\t\t<input type='text' name='linkedin' placeholder='URL Linkedin' onChange={handleInputChange} />\n\t\t\t\t<input type='text' name='facebook' placeholder='URL Facebook' onChange={handleInputChange} />\n\t\t\t\t<input type='text' name='instagram' placeholder='URL Instagram' onChange={handleInputChange} />\n\t\t\t\t<input type='text' name='twitter' placeholder='URL Twitter' onChange={handleInputChange} />\n\t\t\t\t<div className='input-images'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label htmlFor='mainLogo'>Logo principal</label>\n\t\t\t\t\t\t<input type='file' className='file-input' name='mainLogo' id='mainLogo' placeholder='Logo Principal' onChange={handleFileChange} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label htmlFor='secondaryLogo'>Logo en BN</label>\n\t\t\t\t\t\t<input type='file' className='file-input' name='secondaryLogo' id='secondaryLogo' placeholder='Logo Secundario' onChange={handleFileChange} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button className='my-btn mini' type='submit'>\n\t\t\t\t\tCrear empresa\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</>\n\t)\n}\n","import React, { useEffect, useRef, useContext } from 'react'\nimport { UpdateCompany } from './company/UpdateCompany'\nimport { AddCompany } from './company/AddCompany'\nimport { CompanyContext } from '../reducers/CompanyContext'\n\nexport const CompanyScreen = () => {\n\tconst isMounted = useRef(true)\n\tconst { company } = useContext(CompanyContext)\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false\n\t\t}\n\t}, [])\n\n\treturn <>{company._id ? <UpdateCompany /> : <AddCompany />}</>\n}\n","import { fetchConToken, fetchSinToken } from '../helpers/fetch'\nimport Swal from 'sweetalert2'\n\nexport const startLogin = async (email, password) => {\n\tconst resp = await fetchSinToken('auth/login', { email, password }, 'POST')\n\tconst body = await resp.json()\n\n\tif (body.ok) {\n\t\tconst loggedUser = {\n\t\t\tid: body.id,\n\t\t\tname: body.name,\n\t\t\temail: body.email,\n\t\t\tlogged: true,\n\t\t\ttoken: body.token,\n\t\t}\n\t\tlocalStorage.setItem('mbr-user', JSON.stringify(loggedUser))\n\t\tlocalStorage.setItem('mbr-token', body.token)\n\n\t\treturn loggedUser\n\t} else {\n\t\tconst errorMsg = body.msg\n\t\tSwal.fire('Error', errorMsg, 'error')\n\t}\n}\n\nexport const startSignup = async (name, email, password) => {\n\tconst resp = await fetchSinToken('auth/signup', { name, email, password }, 'POST')\n\tconst body = await resp.json()\n\n\tif (body.ok) {\n\t\tconst signedupUser = {\n\t\t\tid: body.id,\n\t\t\tname: body.name,\n\t\t\temail: body.email,\n\t\t\ttoken: body.token,\n\t\t\tlogged: true,\n\t\t}\n\t\tlocalStorage.setItem('mbr-user', JSON.stringify(signedupUser))\n\t\tlocalStorage.setItem('mbr-token', body.token)\n\n\t\treturn signedupUser\n\t} else {\n\t\tconst errorMsg = body.msg\n\t\tSwal.fire('Error', errorMsg, 'error')\n\t}\n}\n\nexport const hasToken = async () => {\n\tconst resp = await fetchConToken('auth/renew')\n\tconst body = await resp.json()\n\n\tif (body.ok) {\n\t\tlocalStorage.setItem('mbr-token', body.token)\n\t\treturn {\n\t\t\tid: body.id,\n\t\t\tname: body.name,\n\t\t\ttoken: body.token,\n\t\t\tlogged: true,\n\t\t}\n\t} else {\n\t\tconst errorMsg = body.msg\n\t\tSwal.fire('Error', errorMsg, 'error')\n\t}\n}\n","import React, { useContext } from 'react'\nimport { startLogin } from '../../actions/auth.action'\nimport { AuthContext } from './../../reducers/auth/AuthContext'\nimport useForm from '../../hooks/useForm'\nimport { Link } from 'react-router-dom'\nimport { types } from '../../types/types'\n\nexport const LoginScreen = () => {\n\tconst { values, handleInputChange } = useForm({})\n\tconst { email, password } = values\n\tconst { dispatch } = useContext(AuthContext)\n\n\tconst handleLogin = async (e) => {\n\t\te.preventDefault()\n\t\tconst loggedUser = await startLogin(email, password)\n\n\t\tdispatch({ type: types.login, payload: loggedUser })\n\t}\n\treturn (\n\t\t<>\n\t\t\t<section className='login'>\n\t\t\t\t<form onSubmit={handleLogin}>\n\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t<input type='email' onChange={handleInputChange} placeholder='Tu email' name='email' />\n\t\t\t\t\t<label>Contraseña</label>\n\t\t\t\t\t<input type='password' onChange={handleInputChange} placeholder='Contraseña' name='password' />\n\t\t\t\t\t<button type='submit' className='my-btn mini'>\n\t\t\t\t\t\tEntrar\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t\t<small>\n\t\t\t\t\t¿No tienes cuenta? Crea una <Link to='/registro'>aquí</Link>{' '}\n\t\t\t\t</small>\n\t\t\t</section>\n\t\t</>\n\t)\n}\n","import React, { useContext } from 'react'\nimport Swal from 'sweetalert2'\nimport { startSignup } from '../../actions/auth.action'\nimport { AuthContext } from './../../reducers/auth/AuthContext'\nimport useForm from '../../hooks/useForm'\nimport { Link } from 'react-router-dom'\nimport { types } from '../../types/types'\n\nexport const SignupScreen = () => {\n\tconst { values, handleInputChange } = useForm({})\n\tconst { name, email, password, password2 } = values\n\tconst { dispatch } = useContext(AuthContext)\n\n\tconst handleSignup = async (e) => {\n\t\te.preventDefault()\n\t\tif (password === password2) {\n\t\t\tconst signedupUser = await startSignup(name, email, password)\n\n\t\t\tdispatch({ type: types.signup, payload: signedupUser })\n\t\t} else {\n\t\t\tSwal.fire('Error', 'Las contraseñas deben coincidir', 'error')\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<section className='login'>\n\t\t\t\t<form onSubmit={handleSignup}>\n\t\t\t\t\t<label>Nombre</label>\n\t\t\t\t\t<input type='text' onChange={handleInputChange} placeholder='Tu nombre' name='name' />\n\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t<input type='email' onChange={handleInputChange} placeholder='Tu email' name='email' />\n\t\t\t\t\t<label>Contraseña</label>\n\t\t\t\t\t<input type='password' onChange={handleInputChange} placeholder='Contraseña' name='password' />\n\t\t\t\t\t<label>Repite Contraseña</label>\n\t\t\t\t\t<input type='password' onChange={handleInputChange} placeholder='Repite Contraseña' name='password2' />\n\t\t\t\t\t<button type='submit' className='my-btn mini'>\n\t\t\t\t\t\tRegistro\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t\t<small>\n\t\t\t\t\t¿Ya estás registrado? Entra <Link to='/'>aquí</Link>{' '}\n\t\t\t\t</small>\n\t\t\t</section>\n\t\t</>\n\t)\n}\n","import { types } from '../types/types'\n\nexport const MaquinasReducer = (state = [], action) => {\n\tswitch (action.type) {\n\t\tcase types.getMaquinas:\n\t\t\treturn action.payload\n\n\t\tcase types.getThisMaquinas:\n\t\t\treturn action.payload\n\n\t\tcase types.maquinaUpdate:\n\t\t\treturn { ...action.payload }\n\n\t\tcase types.addMaquina:\n\t\t\treturn { ...action.payload }\n\n\t\tcase types.featuresUpdate:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfeatures: action.payload,\n\t\t\t}\n\t\tcase types.galleryUpdate:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tgallery: action.payload,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import React from 'react'\n\nexport const MaquinaCard = ({ maquina, idx, getID, askIfDelete }) => {\n\treturn (\n\t\t<article className='maquina-card'>\n\t\t\t<h6>{maquina.name}</h6>\n\t\t\t{maquina.order ? <p>Orden en la web: {maquina.order}</p> : <p>Orden en la web: sin definir</p>}\n\t\t\t<div className='maquina-card-body'>\n\t\t\t\t<figure>\n\t\t\t\t\t<img src={maquina.image} alt={maquina.name} />\n\t\t\t\t</figure>\n\t\t\t\t<div className='button-group'>\n\t\t\t\t\t<button onClick={() => getID(maquina._id)} className='my-btn mini'>\n\t\t\t\t\t\tEditar\n\t\t\t\t\t</button>\n\t\t\t\t\t<button onClick={() => askIfDelete(maquina._id, idx)} className='my-btn mini secondary'>\n\t\t\t\t\t\tBorrar\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</article>\n\t)\n}\n","import { fetchConToken } from '../helpers/fetch'\n\nexport const createMaquina = async (maquina) => {\n\tconst resp = await fetchConToken(`maquinaria/nueva`, maquina, 'POST')\n\tconst body = await resp.json()\n\treturn body.data\n}\nexport const updateMaquina = async (id, maquina) => {\n\tconst resp = await fetchConToken(`maquinaria/actualizarMaquina/${id}`, maquina, 'POST')\n\tconst body = await resp.json()\n\treturn body.data\n}\nexport const deleteMaquina = async (id) => {\n\tawait fetchConToken(`maquinaria/borrarMaquina/${id}`, {}, 'POST')\n}\n","import React, { useContext, useReducer, useState } from 'react'\nimport useForm from '../../hooks/useForm'\nimport { MaquinasReducer } from '../../reducers/MaquinasReducer'\nimport { types } from '../../types/types'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { updateMaquina } from '../../actions/maquina.action'\nimport { fileUpload } from '../../helpers/uploadFiles'\nimport { CompanyContext } from '../../reducers/CompanyContext'\nimport Swal from 'sweetalert2'\n\nexport const EditMaquina = ({ maquina, setShow, setFetchingMaquinaria, setmaquinaSelected }) => {\n\tconst [auxValue, setAuxValue] = useState()\n\tconst { company } = useContext(CompanyContext)\n\tconst { maquinasCategories } = company\n\n\tconst [maquinaToUpdate, dispatch] = useReducer(MaquinasReducer, maquina)\n\tconst { values, setValues, handleInputChange, handleFileChange } = useForm(maquinaToUpdate)\n\tconst { features, name, _id: id, gallery, image } = values\n\n\tconst clearInput = () => {\n\t\tconst theinput = document.getElementById('to-reset')\n\t\ttheinput.value = ''\n\t}\n\n\tconst deleteFeature = (idx) => {\n\t\tconst featCopy = [...features]\n\t\tfeatCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tfeatures: featCopy,\n\t\t})\n\t\tdispatch({ type: types.featuresUpdate, payload: featCopy })\n\t}\n\n\tconst deletePicture = (idx) => {\n\t\tconst galleryCopy = [...gallery]\n\t\tgalleryCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tgallery: galleryCopy,\n\t\t})\n\t\tdispatch({ type: types.galleryUpdate, payload: galleryCopy })\n\t}\n\n\tconst handleFeatureChange = (e) => {\n\t\tsetAuxValue(e.target.value)\n\t}\n\n\tconst handleAddFeature = (e) => {\n\t\te.preventDefault()\n\t\tif (!features.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [...features, auxValue],\n\t\t\t})\n\t\t\tdispatch({ type: types.featuresUpdate, payload: [...features, auxValue] })\n\t\t\tclearInput()\n\t\t}\n\t\tclearInput()\n\t}\n\n\tconst handleGalleryChange = async ({ target }) => {\n\t\tconst file = target.files[0]\n\t\tconst url = await fileUpload(file)\n\n\t\tsetAuxValue(url)\n\t}\n\n\tconst handleAddGallery = (e) => {\n\t\te.preventDefault()\n\t\tif (!gallery.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [...gallery, auxValue],\n\t\t\t})\n\t\t\tdispatch({ type: types.galleryUpdate, payload: [...gallery, auxValue] })\n\t\t\tclearInput()\n\t\t}\n\t\tclearInput()\n\t}\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault()\n\t\tdispatch({ type: types.maquinaUpdate, payload: values })\n\t}\n\n\tconst saveChanges = async () => {\n\t\tconst maquinaUpdated = await updateMaquina(id, maquinaToUpdate)\n\t\tif (!maquinaUpdated) {\n\t\t\tSwal.fire('¡Oh-oh!', 'Ha habido un error, inténtalo de nuevo', 'error')\n\t\t} else {\n\t\t\tSwal.fire('¡Chachi!', 'Los cambios han sido guardados', 'success')\n\t\t\tawait setFetchingMaquinaria(true)\n\t\t\tawait setmaquinaSelected(maquinaToUpdate)\n\t\t\tawait setShow(false)\n\t\t}\n\t}\n\n\treturn (\n\t\t<article className='modal-edit'>\n\t\t\t<div className='edit-maquina'>\n\t\t\t\t<div className='left-side'>\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Nombre de la maquina* {maquinaToUpdate?.name && <p className='preview'>{maquinaToUpdate?.name}</p>}</label>\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<input type='text' onChange={handleInputChange} placeholder={name} name='name' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tCambiar\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Tipo de maquina* {maquinaToUpdate?.category && <p className='preview'>{maquinaToUpdate?.category}</p>}</label>\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<select onChange={handleInputChange} name='category' required>\n\t\t\t\t\t\t\t\t<option defaultValue>Seleccionar...</option>\n\n\t\t\t\t\t\t\t\t{maquinasCategories &&\n\t\t\t\t\t\t\t\t\tmaquinasCategories.map((cat) => (\n\t\t\t\t\t\t\t\t\t\t<option key={cat} value={cat}>\n\t\t\t\t\t\t\t\t\t\t\t{cat}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Orden en la web* {maquinaToUpdate?.order && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\n\t\t\t\t\t\t{maquinaToUpdate?.order && <p className='preview'>{maquinaToUpdate?.order}</p>}\n\n\t\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t\t<input className='order' type='number' onChange={handleInputChange} name='order' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Imagen principal* {maquinaToUpdate?.image && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\n\t\t\t\t\t\t<figure className='main-image'>\n\t\t\t\t\t\t\t<img src={image} alt='' />\n\t\t\t\t\t\t</figure>\n\n\t\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t\t<input className='file-input' type='file' onChange={handleFileChange} name='image' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tCambiar\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<form onSubmit={handleAddFeature}>\n\t\t\t\t\t\t<label>Características de la maquina {maquinaToUpdate?.features && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t\t<div className='features'>\n\t\t\t\t\t\t\t{features?.map((ft, idx) => (\n\t\t\t\t\t\t\t\t<div className='each-feat' key={ft}>\n\t\t\t\t\t\t\t\t\t{ft}\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon onClick={() => deleteFeature(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<input type='text' id='to-reset' onChange={handleFeatureChange} placeholder={'Añadir Característica'} name='features' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t<div className='right-side'>\n\t\t\t\t\t<form onSubmit={handleAddGallery}>\n\t\t\t\t\t\t<label>Galería de fotos de la máquina {maquinaToUpdate?.gallery && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\n\t\t\t\t\t\t<div className='gallery'>\n\t\t\t\t\t\t\t{gallery?.map((picture, idx) => (\n\t\t\t\t\t\t\t\t<figure className='each-picture' key={idx}>\n\t\t\t\t\t\t\t\t\t<img src={picture} alt={picture} />\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon className='close-icon' onClick={() => deletePicture(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t\t<input className='file-input' type='file' onChange={handleGalleryChange} placeholder={'Añadir Foto'} name='gallery' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button className='my-btn secondary' onClick={saveChanges}>\n\t\t\t\tGuardar Cambios\n\t\t\t</button>\n\t\t</article>\n\t)\n}\n","import React, { useContext, useReducer, useState } from 'react'\nimport { createMaquina } from '../../actions/maquina.action'\nimport { fileUpload } from '../../helpers/uploadFiles'\nimport useForm from '../../hooks/useForm'\nimport { MaquinasReducer } from '../../reducers/MaquinasReducer'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { types } from '../../types/types'\nimport { CompanyContext } from '../../reducers/CompanyContext'\nimport Swal from 'sweetalert2'\n\nexport const AddMaquina = ({ setShow, setmaquinaSelected, setFetchingMaquinaria }) => {\n\tconst [auxValue, setAuxValue] = useState()\n\tconst { company } = useContext(CompanyContext)\n\tconst { maquinasCategories } = company\n\n\tconst [maquinaToCreate, dispatch] = useReducer(MaquinasReducer)\n\tconst { values, setValues, handleInputChange, handleFileChange } = useForm()\n\tconst { features, gallery, image } = values\n\n\tconst clearInput = () => {\n\t\tconst theinput = document.getElementById('to-reset-add')\n\t\ttheinput.value = ''\n\t}\n\n\tconst deleteFeature = (idx) => {\n\t\tconst featCopy = [...features]\n\t\tfeatCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tfeatures: featCopy,\n\t\t})\n\t\tdispatch({ type: types.featuresUpdate, payload: featCopy })\n\t}\n\n\tconst handleFeatureChange = (e) => {\n\t\tsetAuxValue(e.target.value)\n\t}\n\tconst handleAddFeature = (e) => {\n\t\te.preventDefault()\n\t\tif (!features) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [auxValue],\n\t\t\t})\n\t\t\tdispatch({ type: types.featuresUpdate, payload: [auxValue] })\n\t\t\tclearInput()\n\t\t} else if (!features?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [...features, auxValue],\n\t\t\t})\n\t\t\tdispatch({ type: types.featuresUpdate, payload: [...features, auxValue] })\n\t\t\tclearInput()\n\t\t}\n\t\tclearInput()\n\t}\n\tconst handleGalleryChange = async ({ target }) => {\n\t\tconst file = target.files[0]\n\t\tconst url = await fileUpload(file)\n\n\t\tsetAuxValue(url)\n\t}\n\tconst deletePicture = (idx) => {\n\t\tconst galleryCopy = [...gallery]\n\t\tgalleryCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tgallery: galleryCopy,\n\t\t})\n\t\tdispatch({ type: types.galleryUpdate, payload: galleryCopy })\n\t}\n\n\tconst handleAddGallery = (e) => {\n\t\te.preventDefault()\n\t\tif (!gallery) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [auxValue],\n\t\t\t})\n\t\t\tdispatch({ type: types.galleryUpdate, payload: [auxValue] })\n\t\t} else if (!gallery?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [...gallery, auxValue],\n\t\t\t})\n\t\t\tdispatch({ type: types.galleryUpdate, payload: [...gallery, auxValue] })\n\t\t}\n\t}\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault()\n\t\tdispatch({ type: types.addMaquina, payload: values })\n\t}\n\n\tconst saveChanges = async () => {\n\t\tconst newMaquina = await createMaquina(maquinaToCreate)\n\t\tif (!newMaquina) {\n\t\t\tSwal.fire('¡Oh-oh!', 'Ha habido un error, inténtalo de nuevo', 'error')\n\t\t\tawait setShow(false)\n\t\t} else {\n\t\t\tSwal.fire('¡Chachi!', 'Los cambios han sido guardados', 'success')\n\t\t\tawait setFetchingMaquinaria(true)\n\t\t\tawait setmaquinaSelected(maquinaToCreate)\n\t\t\tawait setShow(false)\n\t\t}\n\t}\n\n\treturn (\n\t\t<article className='modal-edit'>\n\t\t\t<p>\n\t\t\t\tPara que lo que se introduzca funcione, tienes que escribir lo que sea, darle al botón \"Añadir\" y esperar a que salga este icono. <FontAwesomeIcon className='check-ok' icon='check-circle' />\n\t\t\t</p>\n\t\t\t<div className='edit-maquina'>\n\t\t\t\t<div className='left-side'>\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Nombre de la maquina* {maquinaToCreate?.name && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t\t{maquinaToCreate?.name && <p className='preview'>{maquinaToCreate?.name}</p>}\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<input type='text' onChange={handleInputChange} placeholder='Nombre de la máquina' name='name' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Tipo de maquina* {maquinaToCreate?.category && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t\t{maquinaToCreate?.category && <p className='preview'>{maquinaToCreate?.category}</p>}\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<select onChange={handleInputChange} name='category' required>\n\t\t\t\t\t\t\t\t<option defaultValue>Seleccionar...</option>\n\t\t\t\t\t\t\t\t{maquinasCategories &&\n\t\t\t\t\t\t\t\t\tmaquinasCategories.map((cat) => (\n\t\t\t\t\t\t\t\t\t\t<option key={cat} value={cat}>\n\t\t\t\t\t\t\t\t\t\t\t{cat}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Orden en la web* {maquinaToCreate?.order && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\n\t\t\t\t\t\t{maquinaToCreate?.order && <p className='preview'>{maquinaToCreate?.order}</p>}\n\n\t\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t\t<input className='order' type='number' onChange={handleInputChange} name='order' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Imagen principal* {maquinaToCreate?.image && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\n\t\t\t\t\t\t{image && (\n\t\t\t\t\t\t\t<figure className='main-image'>\n\t\t\t\t\t\t\t\t<img src={image} alt='' />\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t\t<input className='file-input' type='file' onChange={handleFileChange} name='image' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<form onSubmit={handleAddFeature}>\n\t\t\t\t\t\t<label>Características de la maquina {maquinaToCreate?.features && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t\t<div className='features'>\n\t\t\t\t\t\t\t{features?.map((ft, idx) => (\n\t\t\t\t\t\t\t\t<div className='each-feat' key={ft}>\n\t\t\t\t\t\t\t\t\t{ft}\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon onClick={() => deleteFeature(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<input type='text' id='to-reset-add' onChange={handleFeatureChange} placeholder={'Añadir Característica'} name='features' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t<div className='right-side'>\n\t\t\t\t\t<form onSubmit={handleAddGallery}>\n\t\t\t\t\t\t<label>Galería de fotos de la máquina {maquinaToCreate?.gallery && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\n\t\t\t\t\t\t{gallery && (\n\t\t\t\t\t\t\t<div className='gallery'>\n\t\t\t\t\t\t\t\t{gallery?.map((picture, idx) => (\n\t\t\t\t\t\t\t\t\t<figure className='each-picture' key={idx}>\n\t\t\t\t\t\t\t\t\t\t<img src={picture} alt='' />\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon className='close-icon' onClick={() => deletePicture(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t\t<input className='file-input' type='file' onChange={handleGalleryChange} placeholder={'Añadir Foto'} name='gallery' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button className='my-btn secondary' onClick={saveChanges}>\n\t\t\t\tGuardar Cambios\n\t\t\t</button>\n\t\t</article>\n\t)\n}\n","import React, { useEffect, useReducer, useState } from 'react'\nimport { fetchSinToken } from '../helpers/fetch'\nimport { MaquinasReducer } from '../reducers/MaquinasReducer'\nimport { types } from '../types/types'\nimport { MaquinaCard } from './maquinas/MaquinaCard'\nimport Modal from 'react-bootstrap/Modal'\nimport { EditMaquina } from './maquinas/EditMaquina'\nimport { AddMaquina } from './maquinas/AddMaquina'\nimport { deleteMaquina } from '../actions/maquina.action'\nimport Swal from 'sweetalert2'\n\nexport const MaquinasScreen = () => {\n\tconst [show, setShow] = useState(false)\n\tconst [modalId, setModalId] = useState()\n\tconst [maquinaSelected, setmaquinaSelected] = useState()\n\n\tconst getID = async (id) => {\n\t\tawait fetchSinToken(`maquinaria/${id}`)\n\t\t\t.then((data) => data.json())\n\t\t\t.then((data) => setmaquinaSelected(data.data))\n\t\t\t.then(() => handleModal(true, 'edit'))\n\t\t\t.catch((err) => new Error(err))\n\t}\n\n\tconst [fetchingMaquinaria, setFetchingMaquinaria] = useState(true)\n\tconst [maquinasData, dispatchMaquinasData] = useReducer(MaquinasReducer)\n\n\tuseEffect(() => {\n\t\tif (fetchingMaquinaria) {\n\t\t\tfetchSinToken('maquinaria')\n\t\t\t\t.then((data) => data.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tconst prueba = data.data.sort((a, b) => {\n\t\t\t\t\t\tif (a.order > b.order) {\n\t\t\t\t\t\t\treturn 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (a.order < b.order) {\n\t\t\t\t\t\t\treturn -1\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0\n\t\t\t\t\t})\n\t\t\t\t\tdispatchMaquinasData({ type: types.getMaquinas, payload: prueba })\n\t\t\t\t})\n\t\t\t\t.then(() => setFetchingMaquinaria(false))\n\t\t\t\t.catch((err) => new Error(err))\n\t\t}\n\t}, [fetchingMaquinaria, maquinaSelected])\n\n\tconst handleDeleteMaquina = async (id) => {\n\t\tawait deleteMaquina(id)\n\t\tsetFetchingMaquinaria(true)\n\t}\n\tconst askIfDelete = (id) => {\n\t\tSwal.fire({\n\t\t\ttitle: '¿Seguro?',\n\t\t\ttext: 'Si borras esto, se irá al infierno de las máquinas',\n\t\t\ticon: 'warning',\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: '#3085d6',\n\t\t\tcancelButtonColor: '#d33',\n\t\t\tconfirmButtonText: '¡Bórrala, señora!',\n\t\t\tcancelButtonText: '¡Uy, no!',\n\t\t}).then((result) => {\n\t\t\tif (result.isConfirmed) {\n\t\t\t\thandleDeleteMaquina(id)\n\t\t\t\tSwal.fire('¡Máquina borrada!', 'Esta máquina se marchó para no volver', 'success')\n\t\t\t}\n\t\t})\n\t}\n\tconst handleModal = async (visible, modalId) => {\n\t\tsetShow(visible)\n\t\tsetModalId(modalId)\n\t}\n\n\tconst displayModal = (modalId) => {\n\t\tif (show) {\n\t\t\tswitch (modalId) {\n\t\t\t\tcase 'add':\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Modal.Header>\n\t\t\t\t\t\t\t\t<Modal.Title>Añadir Máquina</Modal.Title>\n\t\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t\t\t<AddMaquina setShow={setShow} setFetchingMaquinaria={setFetchingMaquinaria} setmaquinaSelected={setmaquinaSelected} />\n\t\t\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\tcase 'edit':\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Modal.Header>\n\t\t\t\t\t\t\t\t<Modal.Title>Editando Máquina</Modal.Title>\n\t\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t\t\t<EditMaquina setShow={setShow} maquina={maquinaSelected} setFetchingMaquinaria={setFetchingMaquinaria} setmaquinaSelected={setmaquinaSelected} />\n\t\t\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<section className='maquinas-head'>\n\t\t\t\t<h1>Maquinaria</h1>\n\t\t\t\t<button className='my-btn mini' onClick={() => handleModal(true, 'add')}>\n\t\t\t\t\tAñadir Maquina\n\t\t\t\t</button>\n\t\t\t</section>\n\n\t\t\t<section className='all-maquinas'>\n\t\t\t\t{maquinasData?.map((maq, idx) => (\n\t\t\t\t\t<MaquinaCard idx={idx} key={maq._id} maquina={maq} getID={getID} askIfDelete={askIfDelete} />\n\t\t\t\t))}\n\t\t\t</section>\n\n\t\t\t<Modal dialogClassName='modal-width' centered className='my-modals' show={show} onHide={() => handleModal(false, '')}>\n\t\t\t\t{displayModal(modalId)}\n\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<button className='my-btn mini secondary' onClick={() => handleModal(false, '')}>\n\t\t\t\t\t\tcerrar\n\t\t\t\t\t</button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n}\n","import { fetchConToken, fetchSinToken } from '../helpers/fetch'\n\nexport const addSection = async (section) => {\n\tconsole.log(section)\n\tconst resp = await fetchConToken(`section/new`, section, 'POST')\n\tconst body = await resp.json()\n\treturn body.section\n}\nexport const updateSection = async (section, id) => {\n\tawait fetchConToken(`section/update/${id}`, section, 'POST')\n\tconst resp = await fetchSinToken(`section`)\n\tconst body = await resp.json()\n\treturn body.sections\n}\nexport const deleteSection = async (id) => {\n\tawait fetchConToken(`section/delete/${id}`, {}, 'POST')\n\tconst resp = await fetchSinToken(`section`)\n\tconst body = await resp.json()\n\treturn body.sections\n}\n","import React, { useState } from 'react'\nimport Modal from 'react-bootstrap/Modal'\n\nexport const EditGroupSection = React.memo(({ nameValue, deleteField, inputType, editLabel, editAction, editValue, submitEdit, imageEdit = false }) => {\n\tconst [show, setShow] = useState(false)\n\n\tconst handleClose = () => setShow(false)\n\tconst handleShow = () => setShow(true)\n\n\treturn (\n\t\t<>\n\t\t\t{editValue ? (\n\t\t\t\t<div className='edit-group'>\n\t\t\t\t\t{imageEdit ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p>{editLabel}: </p>\n\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t<img src={editValue} alt={nameValue} />\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{editLabel}: <strong>{editValue}</strong>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button className='my-btn mini secondary' onClick={() => deleteField(nameValue)}>\n\t\t\t\t\t\t\tBorrar\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button className='my-btn mini' onClick={handleShow}>\n\t\t\t\t\t\t\tEditar\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className='edit-group'>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{editLabel}: <small>Sin datos</small>\n\t\t\t\t\t</p>\n\t\t\t\t\t<button className='my-btn mini' onClick={handleShow}>\n\t\t\t\t\t\tAñadir\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<Modal className='my-modals' show={show} onHide={handleClose}>\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>{editValue}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<form className='edit-form' onSubmit={submitEdit}>\n\t\t\t\t\t\t<input name={nameValue} type={inputType} onChange={editAction} placeholder={editValue} />\n\t\t\t\t\t\t<button className='my-btn' type='submit' onClick={handleClose}>\n\t\t\t\t\t\t\tGuardar\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<button className='my-btn' onClick={handleClose}>\n\t\t\t\t\t\tcerrar\n\t\t\t\t\t</button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</>\n\t)\n})\n","import React, { useEffect, useRef, useState } from 'react'\nimport ReactQuill from 'react-quill'\nimport 'react-quill/dist/quill.snow.css'\n\nconst TextEditor = ({ setQuill, handleQuill, setParsed }) => {\n\tconst [value, setValue] = useState('')\n\tconst quillRef = useRef(null)\n\n\tconst createHTLM = (text) => {\n\t\treturn { __html: text }\n\t}\n\n\tconst modules = {\n\t\ttoolbar: {\n\t\t\tcontainer: [\n\t\t\t\t[{ header: '1' }, { header: '2' }, { font: [] }],\n\t\t\t\t[{ size: [] }],\n\t\t\t\t['bold', 'italic', 'underline', 'strike', 'blockquote'],\n\t\t\t\t[{ list: 'ordered' }, { list: 'bullet' }, { indent: '-1' }, { indent: '+1' }],\n\t\t\t\t['link'],\n\t\t\t],\n\t\t},\n\t\tclipboard: {\n\t\t\tmatchVisual: false,\n\t\t},\n\t}\n\n\tuseEffect(() => {\n\t\tsetQuill(value)\n\t\tsetParsed(createHTLM(value))\n\t}, [value, setQuill, setParsed])\n\n\treturn (\n\t\t<div>\n\t\t\t<div className='text-editor'>\n\t\t\t\t<ReactQuill ref={quillRef} modules={modules} formats={TextEditor.formats} theme='snow' value={value} onChange={setValue} />\n\t\t\t</div>\n\t\t\t<form onSubmit={handleQuill}>\n\t\t\t\t<button type='submit' className='my-btn mini secondary'>\n\t\t\t\t\tGuardar texto\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\t)\n}\n\nTextEditor.formats = ['header', 'font', 'size', 'bold', 'italic', 'underline', 'strike', 'blockquote', 'list', 'bullet', 'indent', 'link']\n\nexport default TextEditor\n","import React, { useContext, useEffect, useRef, useState } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { deleteSection, updateSection } from '../actions/sections.action'\nimport useForm from '../hooks/useForm'\nimport Swal from 'sweetalert2'\nimport { AuthContext } from './../reducers/auth/AuthContext'\nimport { types } from '../types/types'\nimport { EditGroupSection } from './sections/EditGroupSection'\nimport { SectionContext } from '../reducers/sections/sectionsContext'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { fileUpload } from '../helpers/uploadFiles'\nimport TextEditor from '../ui/TextEditor'\n\nexport const SectionScreen = () => {\n\tconst { user } = useContext(AuthContext)\n\tconst { dispatchSections, sections } = useContext(SectionContext)\n\tconst { id } = useParams()\n\tconst { values, setValues, handleInputChange, handleFileChange } = useForm()\n\tconst { title, text, parsedText, subtitle, _id: idSection, uniqueImage, gallery, features, formInputs } = values\n\tconst history = useHistory()\n\tlet thisSection = useRef()\n\tconst [auxValue, setAuxValue] = useState()\n\tconst [quill, setQuill] = useState()\n\tconst [parsed, setParsed] = useState()\n\n\tconst handleQuill = (e) => {\n\t\te.preventDefault()\n\t\tsetValues({\n\t\t\t...values,\n\t\t\ttext: quill,\n\t\t\tparsedText: parsed,\n\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tif (sections.length > 0) {\n\t\t\tthisSection.current = sections.find((sect) => sect._id === id)\n\t\t\tsetValues(thisSection.current)\n\t\t}\n\t}, [id, sections, setValues])\n\n\tconst clearInput = (input) => {\n\t\tconst theinput = document.getElementById(input)\n\t\ttheinput.value = ''\n\t}\n\n\t//Features\n\tconst deleteFeature = (idx) => {\n\t\tconst featCopy = [...features]\n\t\tfeatCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tfeatures: featCopy,\n\t\t})\n\t}\n\n\tconst handleFeatureChange = (e) => {\n\t\tsetAuxValue(e.target.value)\n\t}\n\n\tconst handleAddFeature = (e) => {\n\t\te.preventDefault()\n\t\tif (!features) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-features')\n\t\t} else if (!features?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [...features, auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-features')\n\t\t}\n\t\tclearInput('to-reset-features')\n\t}\n\n\t//Galeria\n\tconst handleGalleryChange = async ({ target }) => {\n\t\tconst file = target.files[0]\n\t\tconst url = await fileUpload(file)\n\n\t\tsetAuxValue(url)\n\t}\n\n\tconst handleAddGallery = (e) => {\n\t\te.preventDefault()\n\t\tif (!gallery) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [auxValue],\n\t\t\t})\n\t\t} else if (!gallery?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [...gallery, auxValue],\n\t\t\t})\n\t\t}\n\t}\n\n\tconst deletePicture = (idx) => {\n\t\tconst galleryCopy = [...gallery]\n\t\tgalleryCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tgallery: galleryCopy,\n\t\t})\n\t}\n\n\t//Form inputs\n\tconst deleteFormInput = (idx) => {\n\t\tconst inputCopy = [...formInputs]\n\t\tinputCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tformInputs: inputCopy,\n\t\t})\n\t}\n\n\tconst handleChangeFormInput = (e) => {\n\t\tsetAuxValue(e.target.value)\n\t}\n\n\tconst handleAddFormInput = (e) => {\n\t\te.preventDefault()\n\t\tif (!formInputs) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tformInputs: [auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-inputs')\n\t\t} else if (!formInputs?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tformInputs: [...formInputs, auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-inputs')\n\t\t}\n\t\tclearInput('to-reset-inputs')\n\t}\n\n\t//Borrar propiedades\n\n\tconst handleDelete = async () => {\n\t\thistory.push('/mbr')\n\t\tconst sectionGroup = await deleteSection(id)\n\t\tdispatchSections({ type: types.deleteSection, payload: sectionGroup })\n\t}\n\n\tconst deleteField = async (property) => {\n\t\tsetValues({\n\t\t\t...values,\n\t\t\t[property]: '',\n\t\t})\n\t}\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault()\n\t}\n\n\tconst saveChanges = async () => {\n\t\tconst sectionUpdated = await updateSection(values, idSection)\n\t\tif (!sectionUpdated) {\n\t\t\tSwal.fire('¡Oh-oh!', 'Ha habido un error, inténtalo de nuevo', 'error')\n\t\t} else {\n\t\t\tSwal.fire('¡Chachi!', 'Los cambios han sido guardados', 'success')\n\t\t\tdispatchSections({ type: types.sectionUpdate, payload: sectionUpdated })\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<section className='section-screen'>\n\t\t\t\t<h1>\n\t\t\t\t\tSección <span>{values?.sectionName}</span>\n\t\t\t\t</h1>\n\n\t\t\t\t<button className='my-btn mini' onClick={saveChanges}>\n\t\t\t\t\tGuardar Cambios\n\t\t\t\t</button>\n\n\t\t\t\t{user.email === 'admin@yai.com' && (\n\t\t\t\t\t<button className='my-btn secondary mini' onClick={handleDelete}>\n\t\t\t\t\t\tBorrar esta sección\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t{(title || title === '') && (\n\t\t\t\t\t<EditGroupSection nameValue={'title'} deleteField={deleteField} inputType='text' editLabel={'Título'} editAction={handleInputChange} editValue={values?.title} submitEdit={handleSubmit} />\n\t\t\t\t)}\n\t\t\t\t{subtitle && (\n\t\t\t\t\t<EditGroupSection\n\t\t\t\t\t\tnameValue={'subtitle'}\n\t\t\t\t\t\tdeleteField={deleteField}\n\t\t\t\t\t\tinputType='text'\n\t\t\t\t\t\teditLabel={'Subtítulo'}\n\t\t\t\t\t\teditAction={handleInputChange}\n\t\t\t\t\t\teditValue={values?.subtitle}\n\t\t\t\t\t\tsubmitEdit={handleSubmit}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{uniqueImage && (\n\t\t\t\t\t<EditGroupSection\n\t\t\t\t\t\timageEdit={true}\n\t\t\t\t\t\tnameValue={'uniqueImage'}\n\t\t\t\t\t\tdeleteField={deleteField}\n\t\t\t\t\t\tinputType='file'\n\t\t\t\t\t\teditLabel={'Imagen principal'}\n\t\t\t\t\t\teditAction={handleFileChange}\n\t\t\t\t\t\teditValue={values?.uniqueImage}\n\t\t\t\t\t\tsubmitEdit={handleSubmit}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{gallery?.length > 0 && (\n\t\t\t\t\t<div className='edit-gallery'>\n\t\t\t\t\t\t<div className='gallery'>\n\t\t\t\t\t\t\t{gallery?.map((picture, idx) => (\n\t\t\t\t\t\t\t\t<figure className='each-picture' key={idx}>\n\t\t\t\t\t\t\t\t\t<img src={picture} alt='' />\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon className='close-icon' onClick={() => deletePicture(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t\t<input className='file-input' type='file' onChange={handleGalleryChange} placeholder={'Añadir Foto'} name='gallery' />\n\t\t\t\t\t\t\t<button onClick={handleAddGallery} className='my-btn mini'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{features?.length > 0 && (\n\t\t\t\t\t<div className='edit-features'>\n\t\t\t\t\t\t<div className='features'>\n\t\t\t\t\t\t\t{features?.map((ft, idx) => (\n\t\t\t\t\t\t\t\t<div className='each-feat' key={ft}>\n\t\t\t\t\t\t\t\t\t{ft}\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon onClick={() => deleteFeature(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<input type='text' id='to-reset-features' onChange={handleFeatureChange} placeholder={'Añadir Característica'} name='features' />\n\t\t\t\t\t\t\t<button onClick={handleAddFeature} className='my-btn mini'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{formInputs?.length > 0 && (\n\t\t\t\t\t<div className='edit-features'>\n\t\t\t\t\t\t<div className='features'>\n\t\t\t\t\t\t\t{formInputs?.map((inp, idx) => (\n\t\t\t\t\t\t\t\t<div className='each-feat' key={inp}>\n\t\t\t\t\t\t\t\t\t{inp}\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon onClick={() => deleteFormInput(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<input type='text' id='to-reset-inputs' onChange={handleChangeFormInput} placeholder={'Añadir Input'} name='formInputs' />\n\t\t\t\t\t\t\t<button onClick={handleAddFormInput} className='my-btn mini'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{text && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<section className='edit-group text-editor-group'>\n\t\t\t\t\t\t\t<p>Texto:</p>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={parsedText}></div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t<TextEditor setQuill={setQuill} handleQuill={handleQuill} setParsed={setParsed} />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</section>\n\t\t</>\n\t)\n}\n","import React, { useContext, useState } from 'react'\nimport { fileUpload } from '../../helpers/uploadFiles'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport useForm from '../../hooks/useForm'\nimport { addSection } from '../../actions/sections.action'\nimport { SectionContext } from '../../reducers/sections/sectionsContext'\nimport { types } from '../../types/types'\nimport TextEditor from '../../ui/TextEditor'\nimport Swal from 'sweetalert2'\n\nexport const AddSection = ({ handleClose }) => {\n\tconst { dispatchSections } = useContext(SectionContext)\n\tconst [auxValue, setAuxValue] = useState()\n\tconst [quill, setQuill] = useState()\n\tconst [parsed, setParsed] = useState()\n\n\tconst { values, setValues, handleInputChange, handleFileChange } = useForm()\n\tconst { uniqueImage, gallery, features, formInputs } = values\n\n\tconst handleQuill = (e) => {\n\t\te.preventDefault()\n\t\tsetValues({\n\t\t\t...values,\n\t\t\ttext: quill,\n\t\t\tparsedText: parsed,\n\t\t})\n\t}\n\n\tconst clearInput = (input) => {\n\t\tconst theinput = document.getElementById(input)\n\t\ttheinput.value = ''\n\t}\n\n\tconst deleteFormInput = (idx) => {\n\t\tconst inputCopy = [...formInputs]\n\t\tinputCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tformInputs: inputCopy,\n\t\t})\n\t}\n\n\tconst handleChangeFormInput = (e) => {\n\t\tsetAuxValue(e.target.value)\n\t}\n\n\tconst handleAddFormInput = (e) => {\n\t\te.preventDefault()\n\t\tif (!formInputs) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tformInputs: [auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-section-inputs')\n\t\t} else if (!formInputs?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tformInputs: [...formInputs, auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-section-inputs')\n\t\t}\n\t\tclearInput('to-reset-section-inputs')\n\t}\n\tconst deleteFeature = (idx) => {\n\t\tconst featCopy = [...features]\n\t\tfeatCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tfeatures: featCopy,\n\t\t})\n\t}\n\n\tconst handleFeatureChange = (e) => {\n\t\tsetAuxValue(e.target.value)\n\t}\n\n\tconst handleAddFeature = (e) => {\n\t\te.preventDefault()\n\t\tif (!features) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-section-features')\n\t\t} else if (!features?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [...features, auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-section-features')\n\t\t}\n\t\tclearInput('to-reset-section-features')\n\t}\n\n\tconst handleGalleryChange = async ({ target }) => {\n\t\tconst file = target.files[0]\n\t\tconst url = await fileUpload(file)\n\n\t\tsetAuxValue(url)\n\t}\n\n\tconst handleAddGallery = (e) => {\n\t\te.preventDefault()\n\t\tif (!gallery) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [auxValue],\n\t\t\t})\n\t\t} else if (!gallery?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [...gallery, auxValue],\n\t\t\t})\n\t\t}\n\t}\n\n\tconst deletePicture = (idx) => {\n\t\tconst galleryCopy = [...gallery]\n\t\tgalleryCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tgallery: galleryCopy,\n\t\t})\n\t}\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault()\n\t\tconst newSection = await addSection(values)\n\t\tif (!newSection) {\n\t\t\tSwal.fire('¡Oh-oh!', 'Ha habido un error, inténtalo de nuevo', 'error')\n\t\t} else {\n\t\t\tSwal.fire('¡Chachi!', 'Los cambios han sido guardados', 'success')\n\t\t\tdispatchSections({ type: types.addSection, payload: newSection })\n\t\t}\n\t\thandleClose()\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<section className='section-form'>\n\t\t\t\t<div className='left-side'>\n\t\t\t\t\t<label>Tipo de sección* {values?.sectionType && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t<select onChange={handleInputChange} name='sectionType' required>\n\t\t\t\t\t\t<option value='section' defaultValue>\n\t\t\t\t\t\t\tSección\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value='nav'>Navegador</option>\n\t\t\t\t\t\t<option value='header'>Cabecera</option>\n\t\t\t\t\t\t<option value='footer'>Footer</option>\n\t\t\t\t\t</select>\n\n\t\t\t\t\t<label>Nombre de la sección* {values?.sectionName && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t<input type='text' onChange={handleInputChange} name='sectionName' autoComplete='off' placeholder='Nombre de la sección' required />\n\n\t\t\t\t\t<label>Título {values?.title && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t<input type='text' onChange={handleInputChange} autoComplete='off' name='title' placeholder='Título' required />\n\n\t\t\t\t\t<label>Subtítulo </label>\n\t\t\t\t\t<input type='text' onChange={handleInputChange} autoComplete='off' name='subtitle' placeholder='Subtítulo' />\n\n\t\t\t\t\t<label>Imagen principal</label>\n\t\t\t\t\t{uniqueImage && (\n\t\t\t\t\t\t<figure className='unique-image'>\n\t\t\t\t\t\t\t<img src={uniqueImage} alt='' />\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<input className='file-input' type='file' onChange={handleFileChange} name='uniqueImage' />\n\t\t\t\t\t<label htmlFor=''>Galería de imágenes</label>\n\t\t\t\t\t<div className='gallery'>\n\t\t\t\t\t\t{gallery?.map((picture, idx) => (\n\t\t\t\t\t\t\t<figure className='each-picture' key={idx}>\n\t\t\t\t\t\t\t\t<img src={picture} alt='' />\n\t\t\t\t\t\t\t\t<FontAwesomeIcon className='close-icon' onClick={() => deletePicture(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t<input className='file-input' type='file' onChange={handleGalleryChange} placeholder={'Añadir Foto'} name='gallery' />\n\t\t\t\t\t\t<button onClick={handleAddGallery} className='my-btn mini third'>\n\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='right-side'>\n\t\t\t\t\t<label>Texto </label>\n\t\t\t\t\t<TextEditor setQuill={setQuill} handleQuill={handleQuill} setParsed={setParsed} />\n\n\t\t\t\t\t<label htmlFor=''>Características</label>\n\t\t\t\t\t<div className='features'>\n\t\t\t\t\t\t{features?.map((ft, idx) => (\n\t\t\t\t\t\t\t<div className='each-feat' key={ft}>\n\t\t\t\t\t\t\t\t{ft}\n\t\t\t\t\t\t\t\t<FontAwesomeIcon onClick={() => deleteFeature(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t<input type='text' id='to-reset-section-features' onChange={handleFeatureChange} placeholder={'Añadir Característica'} name='features' />\n\t\t\t\t\t\t<button onClick={handleAddFeature} className='my-btn mini third'>\n\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<label>Inputs del formulario</label>\n\t\t\t\t\t<div className='features'>\n\t\t\t\t\t\t{formInputs?.map((inp, idx) => (\n\t\t\t\t\t\t\t<div className='each-feat' key={inp}>\n\t\t\t\t\t\t\t\t{inp}\n\t\t\t\t\t\t\t\t<FontAwesomeIcon onClick={() => deleteFormInput(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t<input type='text' id='to-reset-section-inputs' onChange={handleChangeFormInput} placeholder={'Añadir Input'} name='formInputs' />\n\t\t\t\t\t\t<button onClick={handleAddFormInput} className='my-btn mini third'>\n\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\n\t\t\t<form className='section-form' onSubmit={handleSubmit}>\n\t\t\t\t<button className='my-btn mini' type='submit'>\n\t\t\t\t\tGuardar Datos\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</>\n\t)\n}\n","import { types } from '../../types/types'\n\nexport const SectionsReducer = (state = [], action) => {\n\tswitch (action.type) {\n\t\tcase types.getSections:\n\t\t\treturn action.payload\n\n\t\tcase types.addSection:\n\t\t\treturn [...state, action.payload]\n\n\t\tcase types.deleteSection:\n\t\t\treturn action.payload\n\n\t\tcase types.updateThis:\n\t\t\treturn { ...action.payload }\n\n\t\tcase types.sectionUpdate:\n\t\t\treturn action.payload\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { types } from '../types/types'\n\nexport const CompanyReducer = (state = [], action) => {\n\tswitch (action.type) {\n\t\tcase types.getCompany:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.addCompnany:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.companyUpdate:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.deleteProperty:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.maquinasCategoriesUpdate:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmaquinasCategories: action.payload,\n\t\t\t}\n\t\tcase types.companyDelete:\n\t\t\treturn {}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import React, { useContext, useEffect, useReducer, useRef, useState } from 'react'\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom'\nimport { AuthContext } from './../reducers/auth/AuthContext'\nimport { Navbar } from '../ui/Navbar'\nimport { DashboardNav } from '../ui/DashboardNav'\nimport { DashboardScreen } from '../components/DashboardScreen'\nimport { CompanyScreen } from '../components/CompanyScreen'\nimport { LoginScreen } from '../components/auth/LoginScreen'\nimport { SignupScreen } from '../components/auth/SignupScreen'\nimport { MaquinasScreen } from '../components/MaquinasScreen'\nimport { SectionScreen } from '../components/SectionScreen'\nimport Modal from 'react-bootstrap/Modal'\nimport { fetchSinToken } from '../helpers/fetch'\nimport { AddSection } from '../components/sections/AddSection'\nimport { SectionsReducer } from '../reducers/sections/SectionsReducer'\nimport { SectionContext } from '../reducers/sections/sectionsContext'\nimport { types } from '../types/types'\nimport { CompanyContext } from '../reducers/CompanyContext'\nimport { CompanyReducer } from '../reducers/CompanyReducer'\n\nexport const AppRouter = () => {\n\tconst isMounted = useRef(true)\n\tconst { user } = useContext(AuthContext)\n\tconst [sections, dispatchSections] = useReducer(SectionsReducer, {})\n\tconst [company, dispatchCompany] = useReducer(CompanyReducer, {})\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false\n\t\t}\n\t})\n\n\tuseEffect(() => {\n\t\tif (isMounted.current) {\n\t\t\tfetchSinToken(`section`)\n\t\t\t\t.then((data) => data.json())\n\t\t\t\t.then((data) => dispatchSections({ type: types.getSections, payload: data.sections }))\n\t\t\t\t.catch((err) => new Error(err))\n\t\t\tfetchSinToken(`company`)\n\t\t\t\t.then((data) => data.json())\n\t\t\t\t.then((data) => dispatchCompany({ type: types.getCompany, payload: data.company[0] }))\n\t\t\t\t.catch((err) => new Error(err))\n\t\t}\n\t}, [])\n\n\tconst [show, setShow] = useState(false)\n\tconst handleClose = () => setShow(false)\n\tconst handleShow = () => setShow(true)\n\n\treturn (\n\t\t<Router>\n\t\t\t<div>\n\t\t\t\t{user.token ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<CompanyContext.Provider value={{ company, dispatchCompany }}>\n\t\t\t\t\t\t\t<SectionContext.Provider value={{ sections, dispatchSections }}>\n\t\t\t\t\t\t\t\t<div className='dashboard-container'>\n\t\t\t\t\t\t\t\t\t<DashboardNav handleShow={handleShow} />\n\n\t\t\t\t\t\t\t\t\t<main>\n\t\t\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t\t\t<Route exact path='/mbr' component={DashboardScreen} />\n\t\t\t\t\t\t\t\t\t\t\t<Route path='/mbr/empresa' component={CompanyScreen} />\n\t\t\t\t\t\t\t\t\t\t\t<Route path='/mbr/maquinaria' component={MaquinasScreen} />\n\t\t\t\t\t\t\t\t\t\t\t<Route path='/mbr/seccion/:id' component={(props) => <SectionScreen {...props} />} />\n\t\t\t\t\t\t\t\t\t\t\t<Redirect to='/mbr' />\n\t\t\t\t\t\t\t\t\t\t</Switch>\n\n\t\t\t\t\t\t\t\t\t\t<Modal dialogClassName='modal-width' centered className='my-modals' show={show} onHide={handleClose}>\n\t\t\t\t\t\t\t\t\t\t\t<Modal.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t<h1>Añadir Sección a la web</h1>\n\t\t\t\t\t\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t<AddSection handleClose={handleClose} />\n\t\t\t\t\t\t\t\t\t\t\t</Modal.Body>\n\n\t\t\t\t\t\t\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t\t\t\t\t\t\t<button className='my-btn mini secondary' onClick={handleClose}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tcerrar\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</Modal.Footer>\n\t\t\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t\t\t</main>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</SectionContext.Provider>\n\t\t\t\t\t\t</CompanyContext.Provider>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Navbar />\n\n\t\t\t\t\t\t<main className='container'>\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route exact path='/' component={LoginScreen} />\n\t\t\t\t\t\t\t\t<Route path='/registro' component={SignupScreen} />\n\t\t\t\t\t\t\t\t<Redirect to='/' />\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t<small>Made with &hearts; by Yai</small>\n\t\t\t\t\t\t\t<small>&copy; Mecánica Brañosera S.L.</small>\n\t\t\t\t\t\t</main>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Router>\n\t)\n}\n","import { useEffect, useReducer, useRef } from 'react'\nimport { AuthContext } from './reducers/auth/AuthContext'\nimport { AuthReducer } from './reducers/auth/authReducer'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './global.scss'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\nimport { faTimesCircle, faChevronDown, faChevronUp, faCheckCircle } from '@fortawesome/free-solid-svg-icons'\n\nimport { AppRouter } from './routers/AppRouter'\nlibrary.add(fab, faTimesCircle, faChevronDown, faChevronUp, faCheckCircle)\n\nconst init = () => {\n\treturn JSON.parse(localStorage.getItem('mbr-user')) || { logged: false }\n}\nconst App = () => {\n\tconst isMounted = useRef(true)\n\tconst [user, dispatch] = useReducer(AuthReducer, {}, init)\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (isMounted.current) {\n\t\t\tlocalStorage.setItem('mbr-user', JSON.stringify(user))\n\t\t}\n\t}, [user])\n\n\treturn (\n\t\t<>\n\t\t\t<AuthContext.Provider value={{ user, dispatch }}>\n\t\t\t\t<AppRouter />\n\t\t\t</AuthContext.Provider>\n\t\t</>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}