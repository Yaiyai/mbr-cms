{"version":3,"sources":["reducers/auth/AuthContext.js","types/types.js","reducers/auth/authReducer.js","ui/Navbar.js","reducers/sections/sectionsContext.js","ui/DashboardNav.js","components/DashboardScreen.js","helpers/fetch.js","reducers/CompanyReducer.js","components/company/EditGroup.js","helpers/uploadFiles.js","hooks/useForm.js","actions/company.action.js","components/company/UpdateCompany.js","components/company/AddCompany.js","components/CompanyScreen.js","actions/auth.action.js","components/auth/LoginScreen.js","components/auth/SignupScreen.js","reducers/MaquinasReducer.js","components/maquinas/MaquinaCard.js","actions/maquina.action.js","components/maquinas/EditMaquina.js","components/maquinas/AddMaquina.js","components/MaquinasScreen.js","actions/sections.action.js","components/sections/EditGroupSection.js","components/SectionScreen.js","components/sections/AddSection.js","reducers/sections/SectionsReducer.js","routers/AppRouter.js","App.js","index.js"],"names":["AuthContext","createContext","require","types","login","signup","logout","hasToken","getCompany","addCompany","companyUpdate","companyDelete","deleteProperty","addSection","getMaquinas","getThisMaquinas","updateThisMaquinas","addMaquina","maquinaUpdate","maquinaDelete","featuresUpdate","galleryUpdate","getSections","sectionUpdate","deleteSection","updateThis","AuthReducer","state","action","type","payload","logged","Navbar","className","src","alt","to","SectionContext","DashboardNav","handleShow","sections","useContext","dispatch","user","handleLogout","a","localStorage","removeItem","data-toggle","icon","length","map","st","_id","sectionName","email","onClick","DashboardScreen","name","baseURL","process","fetchSinToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchConToken","token","getItem","CompanyReducer","addCompnany","EditGroup","nameValue","deleteField","inputType","editLabel","editAction","editValue","submitEdit","imageEdit","useState","show","setShow","handleClose","Modal","onHide","Header","Title","Body","onSubmit","onChange","placeholder","Footer","fileUpload","file","formData","FormData","append","then","json","secure_url","catch","err","console","log","useForm","initialState","values","setValues","resetForm","handleInputChange","target","value","handleFileChange","files","company","resp","ok","companyCreated","updateCompany","id","updatedCompany","errorMsg","error","Swal","fire","deleteCompany","UpdateCompany","setFetchingCompany","useReducer","companyToUpdate","phone","address","mainEmail","mainLogo","secondaryLogo","linkedin","facebook","twitter","instagram","handleDelete","property","handleSubmit","e","preventDefault","saveChanges","AddCompany","htmlFor","CompanyScreen","fetchingCompany","companyData","dispatchCompanyData","useEffect","Error","startLogin","password","loggedUser","setItem","msg","startSignup","signedupUser","LoginScreen","handleLogin","SignupScreen","password2","handleSignup","MaquinasReducer","features","gallery","MaquinaCard","maquina","idx","getID","handleDeleteMaquina","image","createMaquina","updateMaquina","deleteMaquina","EditMaquina","setFetchingMaquinaria","setmaquinaSelected","auxValue","setAuxValue","maquinaToUpdate","clearInput","document","getElementById","handleGalleryChange","category","required","defaultValue","includes","ft","featCopy","splice","deleteFeature","picture","galleryCopy","deletePicture","AddMaquina","maquinaToCreate","MaquinasScreen","modalId","setModalId","maquinaSelected","handleModal","fetchingMaquinaria","maquinasData","dispatchMaquinasData","visible","maq","dialogClassName","centered","displayModal","section","updateSection","EditGroupSection","React","memo","SectionScreen","dispatchSections","useParams","title","text","subtitle","idSection","uniqueImage","formInputs","history","useHistory","thisSection","useRef","current","find","sect","input","push","sectionGroup","sectionUpdated","inp","inputCopy","deleteFormInput","AddSection","newSection","sectionType","autoComplete","SectionsReducer","AppRouter","isMounted","Provider","exact","path","component","props","library","add","fab","faTimesCircle","faChevronDown","faChevronUp","faCheckCircle","init","parse","App","ReactDOM","render"],"mappings":"gLAEaA,GAAcC,EAFDC,EAAQ,GAA1BD,iB,OCAKE,EAAQ,CACpBC,MAAO,eACPC,OAAQ,gBACRC,OAAQ,gBACRC,SAAU,kBAEVC,WAAY,uBACZC,WAAY,uBACZC,cAAe,0BACfC,cAAe,0BACfC,eAAgB,2BAEhBC,WAAY,wBAEZC,YAAa,uBACbC,gBAAiB,2BACjBC,mBAAoB,+BACpBC,WAAY,uBACZC,cAAe,0BACfC,cAAe,0BACfC,eAAgB,2BAChBC,cAAe,0BAEfC,YAAa,wBACbC,cAAe,0BACfC,cAAe,0BACfC,WAAY,wBCxBAC,EAAc,WAAyB,IAAxBC,EAAuB,uDAAf,GAAIC,EAAW,uCAClD,OAAQA,EAAOC,MACd,KAAK1B,EAAMC,MAIX,KAAKD,EAAME,OAIX,KAAKF,EAAMI,SACV,OAAO,eACHqB,EAAOE,SAEZ,KAAK3B,EAAMG,OACV,MAAO,CACNyB,QAAQ,GAGV,QACC,OAAOJ,I,sDCnBGK,EAAS,WACrB,OACC,qBAAKC,UAAU,YAAf,SACC,sBAAKA,UAAU,YAAf,UACC,iCACC,qBAAKC,IAAI,wFAAwFC,IAAI,OAEtG,+BACC,6BACC,cAAC,IAAD,CAAMC,GAAG,IAAT,sBAED,6BACC,cAAC,IAAD,CAAMA,GAAG,YAAT,iC,8BCbOC,GAAiBpC,EAFJC,EAAQ,GAA1BD,iBCOKqC,EAAe,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WACtBC,EAAaC,qBAAWJ,GAAxBG,SADuC,EAEpBC,qBAAWzC,GAA9B0C,EAFuC,EAEvCA,SAAUC,EAF6B,EAE7BA,KAEZC,EAAY,uCAAG,sBAAAC,EAAA,sEACdH,EAAS,CAAEb,KAAM1B,EAAMG,SADT,uBAEdwC,aAAaC,WAAW,aAFV,uBAGdD,aAAaC,WAAW,YAHV,2CAAH,qDAMlB,OACC,mCACC,sBAAKd,UAAU,WAAf,UACC,+BACC,6BACC,cAAC,IAAD,CAAMG,GAAG,OAAT,SACC,iCACC,qBAAKF,IAAI,wFAAwFC,IAAI,WAIxG,6BACC,cAAC,IAAD,CAAMC,GAAG,eAAT,gCAED,6BACC,cAAC,IAAD,CAAMA,GAAG,kBAAT,0BAED,qBAAIH,UAAU,WAAd,UACC,oBAAGe,cAAY,WAAf,iCACqB,cAAC,IAAD,CAAiBC,KAAK,oBAE1CT,EAASU,OAAS,GAClB,oBAAIjB,UAAU,gBAAd,SACEO,EAASW,KAAI,SAACC,GAAD,OACb,6BACC,cAAC,IAAD,CAAMhB,GAAE,uBAAkBgB,EAAGC,KAA7B,SAAqCD,EAAGE,eADhCF,EAAGC,gBAQjB,sBAAKpB,UAAU,YAAf,UACC,4DACA,uEACgB,kBAAfU,EAAKY,OACL,wBAAQtB,UAAU,oBAAoBuB,QAASjB,EAA/C,kCAID,wBAAQN,UAAU,wBAAwBuB,QAASZ,EAAnD,uCCtDQa,EAAkB,WAAO,IAC7Bd,EAASF,qBAAWzC,GAApB2C,KACR,OACC,8BACC,iDAAiBA,EAAKe,KAAtB,UCPGC,EAAUC,oCAEHC,EAAgB,SAACC,GAAyC,IAA/BC,EAA8B,uDAAvB,GAAIC,EAAmB,uDAAV,MACrDC,EAAG,UAAMN,EAAN,YAAiBG,GAC1B,MAAe,QAAXE,EACIE,MAAMD,GAENC,MAAMD,EAAK,CACjBD,SACAG,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAUP,MAKXQ,EAAgB,SAACT,GAAyC,IAA/BC,EAA8B,uDAAvB,GAAIC,EAAmB,uDAAV,MACrDC,EAAG,UAAMN,EAAN,YAAiBG,GACpBU,EAAQ1B,aAAa2B,QAAQ,cAAgB,GACnD,MAAe,QAAXT,EACIE,MAAMD,EAAK,CACjBD,SACAG,QAAS,CACR,UAAWK,KAINN,MAAMD,EAAK,CACjBD,SACAG,QAAS,CACR,eAAgB,mBAChB,UAAWK,GAEZJ,KAAMC,KAAKC,UAAUP,MChCXW,EAAiB,WAAyB,IAAxB/C,EAAuB,uDAAf,GAAIC,EAAW,uCACrD,OAAQA,EAAOC,MACd,KAAK1B,EAAMK,WAIX,KAAKL,EAAMwE,YAIX,KAAKxE,EAAMO,cAIX,KAAKP,EAAMS,eACV,OAAO,eACHgB,EAAOE,SAEZ,KAAK3B,EAAMQ,cACV,MAAO,GACR,QACC,OAAOgB,I,iCCpBGiD,EAAY,SAAC,GAA4G,IAA1GC,EAAyG,EAAzGA,UAAWC,EAA8F,EAA9FA,YAAaC,EAAiF,EAAjFA,UAAWC,EAAsE,EAAtEA,UAAWC,EAA2D,EAA3DA,WAAYC,EAA+C,EAA/CA,UAAWC,EAAoC,EAApCA,WAAoC,IAAxBC,iBAAwB,WAC5GC,oBAAS,GADmG,mBAC7HC,EAD6H,KACvHC,EADuH,KAG9HC,EAAc,kBAAMD,GAAQ,IAC5BhD,EAAa,kBAAMgD,GAAQ,IAEjC,OACC,qCACEL,EACA,sBAAKjD,UAAU,aAAf,UACEmD,EACA,gCACC,8BAAIJ,EAAJ,QAEA,iCACC,qBAAK9C,IAAKgD,EAAW/C,IAAK0C,SAI5B,8BACEG,EADF,KACc,iCAASE,OAGxB,gCACC,wBAAQjD,UAAU,wBAAwBuB,QAAS,kBAAMsB,EAAYD,IAArE,oBAGA,wBAAQ5C,UAAU,cAAcuB,QAASjB,EAAzC,0BAMF,sBAAKN,UAAU,aAAf,UACC,8BACE+C,EADF,KACc,iDAEd,wBAAQ/C,UAAU,cAAcuB,QAASjB,EAAzC,0BAMF,eAACkD,EAAA,EAAD,CAAOxD,UAAU,uBAAuBqD,KAAMA,EAAMI,OAAQF,EAA5D,UACC,cAACC,EAAA,EAAME,OAAP,UACC,cAACF,EAAA,EAAMG,MAAP,UAAcV,MAEf,cAACO,EAAA,EAAMI,KAAP,UACC,uBAAM5D,UAAU,YAAY6D,SAAUX,EAAtC,UACC,uBAAOzB,KAAMmB,EAAWhD,KAAMkD,EAAWgB,SAAUd,EAAYe,YAAad,IAC5E,wBAAQjD,UAAU,SAASJ,KAAK,SAAS2B,QAASgC,EAAlD,0BAKF,cAACC,EAAA,EAAMQ,OAAP,UACC,wBAAQhE,UAAU,SAASuB,QAASgC,EAApC,6BC3DQU,EAAU,uCAAG,WAAOC,GAAP,iBAAAtD,EAAA,4DACR,kDACXuD,EAAW,IAAIC,UACZC,OAAO,gBAAiB,WACjCF,EAASE,OAAO,OAAQH,GAJC,SAOnBjC,MANW,iDAMK,CAAEF,OAAQ,OAAQI,KAAMgC,IAC5CG,MAAK,SAACxC,GAAD,OAAUA,EAAKyC,UACpBD,MAAK,SAACxC,GAAD,OAAWE,EAAMF,EAAK0C,cAC3BC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAVJ,gCAWlB1C,GAXkB,2CAAH,sDC4BR6C,EAzBC,WAAwB,IAAvBC,EAAsB,uDAAP,GAAO,EACV1B,mBAAS0B,GADC,mBAC/BC,EAD+B,KACvBC,EADuB,KAGhCC,EAAY,WACjBD,EAAUF,IAGLI,EAAoB,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAC5BH,EAAU,2BACND,GADK,kBAEPI,EAAO1D,KAAO0D,EAAOC,UAGlBC,EAAgB,uCAAG,iCAAAzE,EAAA,6DAASuE,EAAT,EAASA,OAC3BjB,EAAOiB,EAAOG,MAAM,GADF,SAENrB,EAAWC,GAFL,cAElBlC,EAFkB,gBAGlBgD,EAAU,2BACZD,GADW,kBAEbI,EAAO1D,KAAOO,KALQ,2CAAH,sDAStB,MAAO,CAAE+C,SAAQC,YAAWE,oBAAmBG,mBAAkBJ,cCtBrDzG,EAAU,uCAAG,WAAO+G,GAAP,mBAAA3E,EAAA,sEACN0B,EAAc,cAAeiD,EAAS,QADhC,cACnBC,EADmB,gBAENA,EAAKjB,OAFC,YAEnBpC,EAFmB,QAGhBsD,GAHgB,uBAIlBC,EAAiBvD,EAAKoD,QAJJ,kBAKjBG,GALiB,2CAAH,sDAQVC,EAAa,uCAAG,WAAOC,EAAIL,GAAX,qBAAA3E,EAAA,sEACT0B,EAAc,kBAAD,OAAmBsD,GAAML,EAAS,QADtC,cACtBC,EADsB,gBAETA,EAAKjB,OAFI,YAEtBpC,EAFsB,QAGnBsD,GAHmB,wBAIrBI,EAAiB1D,EAAKoD,QAJD,kBAMpBM,GANoB,QAQrBC,EAAW3D,EAAK4D,MACtBC,IAAKC,KAAK,QAASH,EAAU,SATF,4CAAH,wDAabI,EAAa,uCAAG,WAAON,GAAP,SAAAhF,EAAA,sEACtB0B,EAAc,kBAAD,OAAmBsD,GAAM,GAAI,QADpB,2CAAH,sDChBbO,EAAgB,SAAC,GAAqC,IAAnCZ,EAAkC,EAAlCA,QAASa,EAAyB,EAAzBA,mBAAyB,EAC7BC,qBAAW5D,EAAgB8C,GADE,mBAC1De,EAD0D,KACzC7F,EADyC,KAEzDgB,EAA8G6E,EAA9G7E,KAAM8E,EAAwGD,EAAxGC,MAAOC,EAAiGF,EAAjGE,QAAcZ,EAAmFU,EAAxFlF,IAASqF,EAA+EH,EAA/EG,UAAWC,EAAoEJ,EAApEI,SAAUC,EAA0DL,EAA1DK,cAAeC,EAA2CN,EAA3CM,SAAUC,EAAiCP,EAAjCO,SAAUC,EAAuBR,EAAvBQ,QAASC,EAAcT,EAAdS,UAFvC,EAGElC,EAAQyB,GAAnEvB,EAHyD,EAGzDA,OAAQC,EAHiD,EAGjDA,UAAWE,EAHsC,EAGtCA,kBAAmBG,EAHmB,EAGnBA,iBAExC2B,EAAY,uCAAG,sBAAApG,EAAA,sEACdsF,EAAcN,GADA,OAEpBnF,EAAS,CAAEb,KAAM1B,EAAMQ,gBAEvB0H,GAAmB,GACnBb,EAAUe,EALU,2CAAH,qDAQZzD,EAAW,uCAAG,WAAOoE,GAAP,eAAArG,EAAA,sDACbf,EADa,2BAEfkF,GAFe,kBAGjBkC,EAAW,KAEbjC,EAAU,2BACND,GADK,kBAEPkC,EAAW,MAEbxG,EAAS,CAAEb,KAAM1B,EAAMyH,cAAe9F,YATnB,2CAAH,sDAYXqH,EAAe,SAACC,GACrBA,EAAEC,iBACF3G,EAAS,CAAEb,KAAM1B,EAAMyH,cAAe9F,QAASkF,KAG1CsC,EAAW,uCAAG,sBAAAzG,EAAA,sEACb+E,EAAcC,EAAIU,GADL,OAGnBF,GAAmB,GACnBb,EAAUe,EACVN,IAAKC,KAAK,cAAY,iCAAkC,WALrC,2CAAH,qDAQjB,OACC,qCACC,kDACA,wBAAQjG,UAAU,cAAcuB,QAAS8F,EAAzC,6BAGA,wBAAQrH,UAAU,wBAAwBuB,QAASyF,EAAnD,iCAIA,sBAAKhH,UAAU,UAAf,UACC,cAAC,EAAD,CAAW6C,YAAaA,EAAaD,UAAW,OAAQE,UAAW,OAAQC,UAAW,oBAAqBC,WAAYkC,EAAmBjC,UAAWxB,EAAMyB,WAAYgE,IACvK,cAAC,EAAD,CAAWrE,YAAaA,EAAaD,UAAW,UAAWE,UAAW,OAAQC,UAAW,eAAaC,WAAYkC,EAAmBjC,UAAWuD,EAAStD,WAAYgE,IACrK,cAAC,EAAD,CAAWrE,YAAaA,EAAaD,UAAW,QAASE,UAAW,OAAQC,UAAW,wBAAsBC,WAAYkC,EAAmBjC,UAAWsD,EAAOrD,WAAYgE,IAC1K,cAAC,EAAD,CAAWrE,YAAaA,EAAaD,UAAW,YAAaE,UAAW,QAASC,UAAW,kBAAmBC,WAAYkC,EAAmBjC,UAAWwD,EAAWvD,WAAYgE,IAChL,cAAC,EAAD,CACCrE,YAAaA,EACbD,UAAW,WACXO,WAAW,EACXL,UAAW,OACXC,UAAW,iBACXC,WAAYqC,EACZpC,UAAWyD,EACXxD,WAAYgE,IAEb,cAAC,EAAD,CACCrE,YAAaA,EACbD,UAAW,gBACXO,WAAW,EACXL,UAAW,OACXC,UAAW,UACXC,WAAYqC,EACZpC,UAAW0D,EACXzD,WAAYgE,IAEb,cAAC,EAAD,CAAWrE,YAAaA,EAAaD,UAAW,UAAWE,UAAW,OAAQC,UAAW,cAAeC,WAAYkC,EAAmBjC,UAAW6D,EAAS5D,WAAYgE,IACvK,cAAC,EAAD,CAAWrE,YAAaA,EAAaD,UAAW,WAAYE,UAAW,OAAQC,UAAW,eAAgBC,WAAYkC,EAAmBjC,UAAW4D,EAAU3D,WAAYgE,IAC1K,cAAC,EAAD,CAAWrE,YAAaA,EAAaD,UAAW,YAAaE,UAAW,OAAQC,UAAW,gBAAiBC,WAAYkC,EAAmBjC,UAAW8D,EAAW7D,WAAYgE,IAC7K,cAAC,EAAD,CAAWrE,YAAaA,EAAaD,UAAW,WAAYE,UAAW,OAAQC,UAAW,eAAgBC,WAAYkC,EAAmBjC,UAAW2D,EAAU1D,WAAYgE,WChFjKI,EAAa,SAAC,GAAoC,EAAlC/B,QAAmC,IAA1Ba,EAAyB,EAAzBA,mBAAyB,EACNvB,EAAQ,IAAxDE,EADsD,EACtDA,OAAQG,EAD8C,EAC9CA,kBAAmBG,EAD2B,EAC3BA,iBAE7B6B,EAAY,uCAAG,WAAOC,GAAP,eAAAvG,EAAA,6DACpBuG,EAAEC,iBADkB,SAES5I,EAAWuG,GAFpB,OAEdW,EAFc,OAKpBU,GAAmB,GACTV,EANU,2CAAH,sDASlB,OACC,mCACC,uBAAM1F,UAAU,WAAW6D,SAAUqD,EAArC,UACC,uBAAOtH,KAAK,OAAO6B,KAAK,OAAOsC,YAAY,uBAAuBD,SAAUoB,IAC5E,uBAAOtF,KAAK,QAAQ6B,KAAK,YAAYsC,YAAY,mBAAmBD,SAAUoB,IAC9E,uBAAOtF,KAAK,OAAO6B,KAAK,QAAQsC,YAAY,wBAAqBD,SAAUoB,IAC3E,uBAAOtF,KAAK,OAAO6B,KAAK,UAAUsC,YAAY,eAAYD,SAAUoB,IACpE,uBAAOtF,KAAK,OAAO6B,KAAK,WAAWsC,YAAY,eAAeD,SAAUoB,IACxE,uBAAOtF,KAAK,OAAO6B,KAAK,WAAWsC,YAAY,eAAeD,SAAUoB,IACxE,uBAAOtF,KAAK,OAAO6B,KAAK,YAAYsC,YAAY,gBAAgBD,SAAUoB,IAC1E,uBAAOtF,KAAK,OAAO6B,KAAK,UAAUsC,YAAY,cAAcD,SAAUoB,IACtE,sBAAKlF,UAAU,eAAf,UACC,gCACC,uBAAOuH,QAAQ,WAAf,4BACA,uBAAO3H,KAAK,OAAOI,UAAU,aAAayB,KAAK,WAAWmE,GAAG,WAAW7B,YAAY,iBAAiBD,SAAUuB,OAEhH,gCACC,uBAAOkC,QAAQ,gBAAf,wBACA,uBAAO3H,KAAK,OAAOI,UAAU,aAAayB,KAAK,gBAAgBmE,GAAG,gBAAgB7B,YAAY,kBAAkBD,SAAUuB,UAG5H,wBAAQrF,UAAU,cAAcJ,KAAK,SAArC,iCC9BS4H,EAAgB,WAAO,IAAD,EACYpE,oBAAS,GADrB,mBAC3BqE,EAD2B,KACVrB,EADU,OAESC,qBAAW5D,EAAgB,IAFpC,mBAE3BiF,EAF2B,KAEdC,EAFc,KAgBlC,OAZAC,qBAAU,WAOT,OANIH,GACH7F,EAAc,WACZ0C,MAAK,SAACxC,GAAD,OAAUA,EAAKyC,UACpBD,MAAK,SAACxC,GAAD,OAAU6F,EAAoB,CAAE/H,KAAM1B,EAAMK,WAAYsB,QAASiC,EAAKyD,QAAQ,QACnFd,OAAM,SAACC,GAAD,OAAS,IAAImD,MAAMnD,MAErB,WACN0B,GAAmB,MAElB,CAACqB,EAAiBC,IAEd,mCAAGA,EAAYtG,IAAM,cAAC,EAAD,CAAemE,QAASmC,EAAatB,mBAAoBA,IAAyB,cAAC,EAAD,CAAYA,mBAAoBA,EAAoBb,QAASmC,OCpB/JI,EAAU,uCAAG,WAAOxG,EAAOyG,GAAd,qBAAAnH,EAAA,sEACNgB,EAAc,aAAc,CAAEN,QAAOyG,YAAY,QAD3C,cACnBvC,EADmB,gBAENA,EAAKjB,OAFC,YAEnBpC,EAFmB,QAIhBsD,GAJgB,wBAKlBuC,EAAa,CAClBpC,GAAIzD,EAAKyD,GACTnE,KAAMU,EAAKV,KACXH,MAAOa,EAAKb,MACZxB,QAAQ,EACRyC,MAAOJ,EAAKI,OAEb1B,aAAaoH,QAAQ,WAAY7F,KAAKC,UAAU2F,IAChDnH,aAAaoH,QAAQ,YAAa9F,EAAKI,OAbf,kBAejByF,GAfiB,QAiBlBlC,EAAW3D,EAAK+F,IACtBlC,IAAKC,KAAK,QAASH,EAAU,SAlBL,4CAAH,wDAsBVqC,EAAW,uCAAG,WAAO1G,EAAMH,EAAOyG,GAApB,qBAAAnH,EAAA,sEACPgB,EAAc,cAAe,CAAEH,OAAMH,QAAOyG,YAAY,QADjD,cACpBvC,EADoB,gBAEPA,EAAKjB,OAFE,YAEpBpC,EAFoB,QAIjBsD,GAJiB,wBAKnB2C,EAAe,CACpBxC,GAAIzD,EAAKyD,GACTnE,KAAMU,EAAKV,KACXH,MAAOa,EAAKb,MACZiB,MAAOJ,EAAKI,MACZzC,QAAQ,GAETe,aAAaoH,QAAQ,WAAY7F,KAAKC,UAAU+F,IAChDvH,aAAaoH,QAAQ,YAAa9F,EAAKI,OAbd,kBAelB6F,GAfkB,QAiBnBtC,EAAW3D,EAAK+F,IACtBlC,IAAKC,KAAK,QAASH,EAAU,SAlBJ,4CAAH,0DClBXuC,EAAc,WAAO,IAAD,EACMxD,EAAQ,IAAtCE,EADwB,EACxBA,OAAQG,EADgB,EAChBA,kBACR5D,EAAoByD,EAApBzD,MAAOyG,EAAahD,EAAbgD,SACPtH,EAAaD,qBAAWzC,GAAxB0C,SAEF6H,EAAW,uCAAG,WAAOnB,GAAP,eAAAvG,EAAA,6DACnBuG,EAAEC,iBADiB,SAEMU,EAAWxG,EAAOyG,GAFxB,OAEbC,EAFa,OAInBvH,EAAS,CAAEb,KAAM1B,EAAMC,MAAO0B,QAASmI,IAJpB,2CAAH,sDAMjB,OACC,mCACC,0BAAShI,UAAU,QAAnB,UACC,uBAAM6D,SAAUyE,EAAhB,UACC,0CACA,uBAAO1I,KAAK,QAAQkE,SAAUoB,EAAmBnB,YAAY,WAAWtC,KAAK,UAC7E,kDACA,uBAAO7B,KAAK,WAAWkE,SAAUoB,EAAmBnB,YAAY,gBAAatC,KAAK,aAClF,wBAAQ7B,KAAK,SAASI,UAAU,cAAhC,uBAID,oEAC6B,cAAC,IAAD,CAAMG,GAAG,YAAT,qBAAiC,aCvBrDoI,EAAe,WAAO,IAAD,EACK1D,EAAQ,IAAtCE,EADyB,EACzBA,OAAQG,EADiB,EACjBA,kBACRzD,EAAqCsD,EAArCtD,KAAMH,EAA+ByD,EAA/BzD,MAAOyG,EAAwBhD,EAAxBgD,SAAUS,EAAczD,EAAdyD,UACvB/H,EAAaD,qBAAWzC,GAAxB0C,SAEFgI,EAAY,uCAAG,WAAOtB,GAAP,eAAAvG,EAAA,yDACpBuG,EAAEC,iBACEW,IAAaS,EAFG,gCAGQL,EAAY1G,EAAMH,EAAOyG,GAHjC,OAGbK,EAHa,OAKnB3H,EAAS,CAAEb,KAAM1B,EAAME,OAAQyB,QAASuI,IALrB,sBAOnBpC,IAAKC,KAAK,QAAS,qCAAmC,SAPnC,2CAAH,sDAWlB,OACC,mCACC,0BAASjG,UAAU,QAAnB,UACC,uBAAM6D,SAAU4E,EAAhB,UACC,2CACA,uBAAO7I,KAAK,OAAOkE,SAAUoB,EAAmBnB,YAAY,YAAYtC,KAAK,SAC7E,0CACA,uBAAO7B,KAAK,QAAQkE,SAAUoB,EAAmBnB,YAAY,WAAWtC,KAAK,UAC7E,kDACA,uBAAO7B,KAAK,WAAWkE,SAAUoB,EAAmBnB,YAAY,gBAAatC,KAAK,aAClF,yDACA,uBAAO7B,KAAK,WAAWkE,SAAUoB,EAAmBnB,YAAY,uBAAoBtC,KAAK,cACzF,wBAAQ7B,KAAK,SAASI,UAAU,cAAhC,yBAID,uEAC6B,cAAC,IAAD,CAAMG,GAAG,IAAT,qBAAyB,aCvC7CuI,EAAkB,WAAyB,IAAxBhJ,EAAuB,uDAAf,GAAIC,EAAW,uCACtD,OAAQA,EAAOC,MACd,KAAK1B,EAAMW,YAGX,KAAKX,EAAMY,gBACV,OAAOa,EAAOE,QAEf,KAAK3B,EAAMe,cAGX,KAAKf,EAAMc,WACV,OAAO,eAAKW,EAAOE,SAEpB,KAAK3B,EAAMiB,eACV,OAAO,2BACHO,GADJ,IAECiJ,SAAUhJ,EAAOE,UAEnB,KAAK3B,EAAMkB,cACV,OAAO,2BACHM,GADJ,IAECkJ,QAASjJ,EAAOE,UAElB,QACC,OAAOH,ICzBGmJ,EAAc,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,QAASC,EAAsC,EAAtCA,IAAKC,EAAiC,EAAjCA,MAAOC,EAA0B,EAA1BA,oBAClD,OACC,0BAASjJ,UAAU,eAAnB,UACC,6BAAK8I,EAAQrH,OACb,sBAAKzB,UAAU,oBAAf,UACC,iCACC,qBAAKC,IAAK6I,EAAQI,MAAOhJ,IAAK4I,EAAQrH,SAEvC,sBAAKzB,UAAU,eAAf,UACC,wBAAQuB,QAAS,kBAAMyH,EAAMF,EAAQ1H,MAAMpB,UAAU,cAArD,oBAGA,wBAAQuB,QAAS,kBAAM0H,EAAoBH,EAAQ1H,IAAK2H,IAAM/I,UAAU,wBAAxE,8B,OCZQmJ,EAAa,uCAAG,WAAOL,GAAP,SAAAlI,EAAA,sEACtB0B,EAAc,mBAAoBwG,EAAS,QADrB,2CAAH,sDAGbM,EAAa,uCAAG,WAAOxD,EAAIkD,GAAX,SAAAlI,EAAA,sEACtB0B,EAAc,gCAAD,OAAiCsD,GAAMkD,EAAS,QADvC,2CAAH,wDAGbO,EAAa,uCAAG,WAAOzD,GAAP,SAAAhF,EAAA,sEACtB0B,EAAc,4BAAD,OAA6BsD,GAAM,GAAI,QAD9B,2CAAH,sDCAb0D,EAAc,SAAC,GAAqE,IAAnER,EAAkE,EAAlEA,QAASxF,EAAyD,EAAzDA,QAASiG,EAAgD,EAAhDA,sBAAuBC,EAAyB,EAAzBA,mBAAyB,EAC/DpG,qBAD+D,mBACxFqG,EADwF,KAC9EC,EAD8E,OAG3DrD,qBAAWqC,EAAiBI,GAH+B,mBAGxFa,EAHwF,KAGvElJ,EAHuE,OAI5BoE,EAAQ8E,GAAnE5E,EAJuF,EAIvFA,OAAQC,EAJ+E,EAI/EA,UAAWE,EAJoE,EAIpEA,kBAAmBG,EAJiD,EAIjDA,iBACtCsD,EAA4C5D,EAA5C4D,SAAUlH,EAAkCsD,EAAlCtD,KAAWmE,EAAuBb,EAA5B3D,IAASwH,EAAmB7D,EAAnB6D,QAASM,EAAUnE,EAAVmE,MAEpCU,EAAa,WACDC,SAASC,eAAe,YAChC1E,MAAQ,IAwCZ2E,EAAmB,uCAAG,iCAAAnJ,EAAA,6DAASuE,EAAT,EAASA,OAC9BjB,EAAOiB,EAAOG,MAAM,GADC,SAETrB,EAAWC,GAFF,OAErBlC,EAFqB,OAI3B0H,EAAY1H,GAJe,2CAAH,sDAoBnBkF,EAAe,SAACC,GACrBA,EAAEC,iBACF3G,EAAS,CAAEb,KAAM1B,EAAMe,cAAeY,QAASkF,KAG1CsC,EAAW,uCAAG,sBAAAzG,EAAA,sEACbwI,EAAcxD,EAAI+D,GADL,uBAGbJ,GAAsB,GAHT,uBAIbC,EAAmBG,GAJN,uBAKbrG,GAAQ,GALK,2CAAH,qDAQjB,OACC,0BAAStD,UAAU,aAAnB,UACC,sBAAKA,UAAU,eAAf,UACC,sBAAKA,UAAU,YAAf,UACC,uBAAM6D,SAAUqD,EAAhB,UACC,4DAA6C,OAAfyC,QAAe,IAAfA,OAAA,EAAAA,EAAiBlI,OAAQ,mBAAGzB,UAAU,UAAb,gBAAwB2J,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAiBlI,UAChG,sBAAKzB,UAAU,qBAAf,UACC,uBAAOJ,KAAK,OAAOkE,SAAUoB,EAAmBnB,YAAatC,EAAMA,KAAK,SACxE,wBAAQ7B,KAAK,SAASI,UAAU,oBAAhC,2BAKF,uBAAM6D,SAAUqD,EAAhB,UACC,uDAAwC,OAAfyC,QAAe,IAAfA,OAAA,EAAAA,EAAiBK,WAAY,mBAAGhK,UAAU,UAAb,gBAAwB2J,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAiBK,cAC/F,sBAAKhK,UAAU,qBAAf,UACC,yBAAQ8D,SAAUoB,EAAmBzD,KAAK,WAAWwI,UAAQ,EAA7D,UACC,wBAAQC,cAAY,EAApB,4BAEA,wBAAQ9E,MAAM,iBAAd,4BACA,wBAAQA,MAAM,kBAAd,6BACA,wBAAQA,MAAM,0BAAd,wCAGD,wBAAQxF,KAAK,SAASI,UAAU,oBAAhC,6BAMF,uBAAM6D,SAAUqD,EAAhB,UACC,wDAAyC,OAAfyC,QAAe,IAAfA,OAAA,EAAAA,EAAiBT,QAAS,cAAC,IAAD,CAAiBlJ,UAAU,WAAWgB,KAAK,oBAE/F,wBAAQhB,UAAU,aAAlB,SACC,qBAAKC,IAAKiJ,EAAOhJ,IAAI,OAGtB,sBAAKF,UAAU,oBAAf,UACC,uBAAOA,UAAU,aAAaJ,KAAK,OAAOkE,SAAUuB,EAAkB5D,KAAK,UAC3E,wBAAQ7B,KAAK,SAASI,UAAU,oBAAhC,2BAMF,uBAAM6D,SA3Fe,SAACsD,GACzBA,EAAEC,iBACGuB,EAASwB,SAASV,KACtBzE,EAAU,2BACND,GADK,IAER4D,SAAS,GAAD,mBAAMA,GAAN,CAAgBc,OAEzBhJ,EAAS,CAAEb,KAAM1B,EAAMiB,eAAgBU,QAAQ,GAAD,mBAAM8I,GAAN,CAAgBc,MAC9DG,KAEDA,KAiFG,UACC,uEAAqD,OAAfD,QAAe,IAAfA,OAAA,EAAAA,EAAiBhB,WAAY,cAAC,IAAD,CAAiB3I,UAAU,WAAWgB,KAAK,oBAC9G,qBAAKhB,UAAU,WAAf,gBACE2I,QADF,IACEA,OADF,EACEA,EAAUzH,KAAI,SAACkJ,EAAIrB,GAAL,OACd,sBAAK/I,UAAU,YAAf,UACEoK,EACD,cAAC,IAAD,CAAiB7I,QAAS,kBAzHZ,SAACwH,GACtB,IAAMsB,EAAQ,YAAO1B,GACrB0B,EAASC,OAAOvB,EAAK,GACrB/D,EAAU,2BACND,GADK,IAER4D,SAAU0B,KAEX5J,EAAS,CAAEb,KAAM1B,EAAMiB,eAAgBU,QAASwK,IAkHTE,CAAcxB,IAAM/H,KAAK,mBAF1BoJ,QAMlC,sBAAKpK,UAAU,qBAAf,UACC,uBAAOJ,KAAK,OAAOgG,GAAG,WAAW9B,SA1GX,SAACqD,GAC5BuC,EAAYvC,EAAEhC,OAAOC,QAyGgDrB,YAAa,8BAAyBtC,KAAK,aAC3G,wBAAQ7B,KAAK,SAASI,UAAU,oBAAhC,gCAMH,qBAAKA,UAAU,aAAf,SACC,uBAAM6D,SA1Fe,SAACsD,GACzBA,EAAEC,iBACGwB,EAAQuB,SAASV,KACrBzE,EAAU,2BACND,GADK,IAER6D,QAAQ,GAAD,mBAAMA,GAAN,CAAea,OAEvBhJ,EAAS,CAAEb,KAAM1B,EAAMkB,cAAeS,QAAQ,GAAD,mBAAM+I,GAAN,CAAea,MAC5DG,KAEDA,KAgFG,UACC,2EAAsD,OAAfD,QAAe,IAAfA,OAAA,EAAAA,EAAiBf,UAAW,cAAC,IAAD,CAAiB5I,UAAU,WAAWgB,KAAK,oBAE9G,qBAAKhB,UAAU,UAAf,gBACE4I,QADF,IACEA,OADF,EACEA,EAAS1H,KAAI,SAACsJ,EAASzB,GAAV,OACb,yBAAQ/I,UAAU,eAAlB,UACC,qBAAKC,IAAKuK,EAAStK,IAAKsK,IACxB,cAAC,IAAD,CAAiBxK,UAAU,aAAauB,QAAS,kBAnInC,SAACwH,GACtB,IAAM0B,EAAW,YAAO7B,GACxB6B,EAAYH,OAAOvB,EAAK,GACxB/D,EAAU,2BACND,GADK,IAER6D,QAAS6B,KAEVhK,EAAS,CAAEb,KAAM1B,EAAMkB,cAAeS,QAAS4K,IA4HeC,CAAc3B,IAAM/H,KAAK,mBAF3C+H,QAOxC,sBAAK/I,UAAU,oBAAf,UACC,uBAAOA,UAAU,aAAaJ,KAAK,OAAOkE,SAAUiG,EAAqBhG,YAAa,iBAAetC,KAAK,YAC1G,wBAAQ7B,KAAK,SAASI,UAAU,oBAAhC,kCAOJ,wBAAQA,UAAU,mBAAmBuB,QAAS8F,EAA9C,iCCvKUsD,GAAa,SAAC,GAA4D,IAA1DrH,EAAyD,EAAzDA,QAASkG,EAAgD,EAAhDA,mBAAoBD,EAA4B,EAA5BA,sBAA4B,EACrDnG,qBADqD,mBAC9EqG,EAD8E,KACpEC,EADoE,OAGjDrD,qBAAWqC,GAHsC,mBAG9EkC,EAH8E,KAG7DnK,EAH6D,OAIlBoE,IAA3DE,EAJ6E,EAI7EA,OAAQC,EAJqE,EAIrEA,UAAWE,EAJ0D,EAI1DA,kBAAmBG,EAJuC,EAIvCA,iBACtCsD,EAA6B5D,EAA7B4D,SAAUC,EAAmB7D,EAAnB6D,QAASM,EAAUnE,EAAVmE,MAErBU,EAAa,WACDC,SAASC,eAAe,gBAChC1E,MAAQ,IAmCZ2E,EAAmB,uCAAG,iCAAAnJ,EAAA,6DAASuE,EAAT,EAASA,OAC9BjB,EAAOiB,EAAOG,MAAM,GADC,SAETrB,EAAWC,GAFF,OAErBlC,EAFqB,OAI3B0H,EAAY1H,GAJe,2CAAH,sDAiCnBkF,EAAe,SAACC,GACrBA,EAAEC,iBACF3G,EAAS,CAAEb,KAAM1B,EAAMc,WAAYa,QAASkF,KAGvCsC,EAAW,uCAAG,sBAAAzG,EAAA,sEACbuI,EAAcyB,GADD,uBAGbrB,GAAsB,GAHT,uBAIbC,EAAmBoB,GAJN,uBAKbtH,GAAQ,GALK,2CAAH,qDAQjB,OACC,0BAAStD,UAAU,aAAnB,UACC,yKACmI,cAAC,IAAD,CAAiBA,UAAU,WAAWgB,KAAK,oBAE9K,sBAAKhB,UAAU,eAAf,UACC,sBAAKA,UAAU,YAAf,UACC,uBAAM6D,SAAUqD,EAAhB,UACC,4DAA6C,OAAf0D,QAAe,IAAfA,OAAA,EAAAA,EAAiBnJ,OAAQ,cAAC,IAAD,CAAiBzB,UAAU,WAAWgB,KAAK,qBAClF,OAAf4J,QAAe,IAAfA,OAAA,EAAAA,EAAiBnJ,OAAQ,mBAAGzB,UAAU,UAAb,gBAAwB4K,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAiBnJ,OACnE,sBAAKzB,UAAU,qBAAf,UACC,uBAAOJ,KAAK,OAAOkE,SAAUoB,EAAmBnB,YAAY,0BAAuBtC,KAAK,SACxF,wBAAQ7B,KAAK,SAASI,UAAU,oBAAhC,6BAKF,uBAAM6D,SAAUqD,EAAhB,UACC,uDAAwC,OAAf0D,QAAe,IAAfA,OAAA,EAAAA,EAAiBZ,WAAY,cAAC,IAAD,CAAiBhK,UAAU,WAAWgB,KAAK,qBACjF,OAAf4J,QAAe,IAAfA,OAAA,EAAAA,EAAiBZ,WAAY,mBAAGhK,UAAU,UAAb,gBAAwB4K,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAiBZ,WACvE,sBAAKhK,UAAU,qBAAf,UACC,yBAAQ8D,SAAUoB,EAAmBzD,KAAK,WAAWwI,UAAQ,EAA7D,UACC,wBAAQC,cAAY,EAApB,4BAEA,wBAAQ9E,MAAM,iBAAd,4BACA,wBAAQA,MAAM,kBAAd,6BACA,wBAAQA,MAAM,0BAAd,wCAGD,wBAAQxF,KAAK,SAASI,UAAU,oBAAhC,6BAKF,uBAAM6D,SAAUqD,EAAhB,UACC,wDAAyC,OAAf0D,QAAe,IAAfA,OAAA,EAAAA,EAAiB1B,QAAS,cAAC,IAAD,CAAiBlJ,UAAU,WAAWgB,KAAK,oBAE9FkI,GACA,wBAAQlJ,UAAU,aAAlB,SACC,qBAAKC,IAAKiJ,EAAOhJ,IAAI,OAIvB,sBAAKF,UAAU,oBAAf,UACC,uBAAOA,UAAU,aAAaJ,KAAK,OAAOkE,SAAUuB,EAAkB5D,KAAK,UAC3E,wBAAQ7B,KAAK,SAASI,UAAU,oBAAhC,6BAMF,uBAAM6D,SApHe,SAACsD,GACzBA,EAAEC,iBACGuB,GAOM,OAACA,QAAD,IAACA,OAAD,EAACA,EAAUwB,SAASV,MAC9BzE,EAAU,2BACND,GADK,IAER4D,SAAS,GAAD,mBAAMA,GAAN,CAAgBc,OAEzBhJ,EAAS,CAAEb,KAAM1B,EAAMiB,eAAgBU,QAAQ,GAAD,mBAAM8I,GAAN,CAAgBc,MAC9DG,MAZA5E,EAAU,2BACND,GADK,IAER4D,SAAU,CAACc,MAEZhJ,EAAS,CAAEb,KAAM1B,EAAMiB,eAAgBU,QAAS,CAAC4J,KACjDG,KASDA,KAmGG,UACC,uEAAqD,OAAfgB,QAAe,IAAfA,OAAA,EAAAA,EAAiBjC,WAAY,cAAC,IAAD,CAAiB3I,UAAU,WAAWgB,KAAK,oBAC9G,qBAAKhB,UAAU,WAAf,gBACE2I,QADF,IACEA,OADF,EACEA,EAAUzH,KAAI,SAACkJ,EAAIrB,GAAL,OACd,sBAAK/I,UAAU,YAAf,UACEoK,EACD,cAAC,IAAD,CAAiB7I,QAAS,kBAvIZ,SAACwH,GACtB,IAAMsB,EAAQ,YAAO1B,GACrB0B,EAASC,OAAOvB,EAAK,GACrB/D,EAAU,2BACND,GADK,IAER4D,SAAU0B,KAEX5J,EAAS,CAAEb,KAAM1B,EAAMiB,eAAgBU,QAASwK,IAgITE,CAAcxB,IAAM/H,KAAK,mBAF1BoJ,QAMlC,sBAAKpK,UAAU,qBAAf,UACC,uBAAOJ,KAAK,OAAOgG,GAAG,eAAe9B,SAlIf,SAACqD,GAC5BuC,EAAYvC,EAAEhC,OAAOC,QAiIoDrB,YAAa,8BAAyBtC,KAAK,aAC/G,wBAAQ7B,KAAK,SAASI,UAAU,oBAAhC,gCAMH,qBAAKA,UAAU,aAAf,SACC,uBAAM6D,SApGe,SAACsD,GACzBA,EAAEC,iBACGwB,GAMM,OAACA,QAAD,IAACA,OAAD,EAACA,EAASuB,SAASV,MAC7BzE,EAAU,2BACND,GADK,IAER6D,QAAQ,GAAD,mBAAMA,GAAN,CAAea,OAEvBhJ,EAAS,CAAEb,KAAM1B,EAAMkB,cAAeS,QAAQ,GAAD,mBAAM+I,GAAN,CAAea,QAV5DzE,EAAU,2BACND,GADK,IAER6D,QAAS,CAACa,MAEXhJ,EAAS,CAAEb,KAAM1B,EAAMkB,cAAeS,QAAS,CAAC4J,OA6F9C,UACC,2EAAsD,OAAfmB,QAAe,IAAfA,OAAA,EAAAA,EAAiBhC,UAAW,cAAC,IAAD,CAAiB5I,UAAU,WAAWgB,KAAK,oBAE7G4H,GACA,qBAAK5I,UAAU,UAAf,gBACE4I,QADF,IACEA,OADF,EACEA,EAAS1H,KAAI,SAACsJ,EAASzB,GAAV,OACb,yBAAQ/I,UAAU,eAAlB,UACC,qBAAKC,IAAKuK,EAAStK,IAAI,KACvB,cAAC,IAAD,CAAiBF,UAAU,aAAauB,QAAS,kBAtHpC,SAACwH,GACtB,IAAM0B,EAAW,YAAO7B,GACxB6B,EAAYH,OAAOvB,EAAK,GACxB/D,EAAU,2BACND,GADK,IAER6D,QAAS6B,KAEVhK,EAAS,CAAEb,KAAM1B,EAAMkB,cAAeS,QAAS4K,IA+GgBC,CAAc3B,IAAM/H,KAAK,mBAF3C+H,QAQzC,sBAAK/I,UAAU,oBAAf,UACC,uBAAOA,UAAU,aAAaJ,KAAK,OAAOkE,SAAUiG,EAAqBhG,YAAa,iBAAetC,KAAK,YAC1G,wBAAQ7B,KAAK,SAASI,UAAU,oBAAhC,kCAOJ,wBAAQA,UAAU,mBAAmBuB,QAAS8F,EAA9C,iCCrLUwD,GAAiB,WAAO,IAAD,EACXzH,oBAAS,GADE,mBAC5BC,EAD4B,KACtBC,EADsB,OAELF,qBAFK,mBAE5B0H,EAF4B,KAEnBC,EAFmB,OAGW3H,qBAHX,mBAG5B4H,EAH4B,KAGXxB,EAHW,KAK7BR,EAAK,uCAAG,WAAOpD,GAAP,SAAAhF,EAAA,sEACPgB,EAAc,cAAD,OAAegE,IAChCtB,MAAK,SAACxC,GAAD,OAAUA,EAAKyC,UACpBD,MAAK,SAACxC,GAAD,OAAU0H,EAAmB1H,EAAKA,SACvCwC,MAAK,kBAAM2G,GAAY,EAAM,WAC7BxG,OAAM,SAACC,GAAD,OAAS,IAAImD,MAAMnD,MALd,2CAAH,sDALwB,EAaiBtB,oBAAS,GAb1B,mBAa5B8H,EAb4B,KAaR3B,EAbQ,OAcUlD,qBAAWqC,GAdrB,mBAc5ByC,EAd4B,KAcdC,EAdc,KAgBnCxD,qBAAU,WACLsD,GACHtJ,EAAc,cACZ0C,MAAK,SAACxC,GAAD,OAAUA,EAAKyC,UACpBD,MAAK,SAACxC,GAAD,OAAUsJ,EAAqB,CAAExL,KAAM1B,EAAMW,YAAagB,QAASiC,EAAKA,UAC7EwC,MAAK,kBAAMiF,GAAsB,MACjC9E,OAAM,SAACC,GAAD,OAAS,IAAImD,MAAMnD,QAE1B,CAACwG,EAAoBF,IAExB,IAAM/B,EAAmB,uCAAG,WAAOrD,GAAP,SAAAhF,EAAA,sEACrByI,EAAczD,GADO,OAE3B2D,GAAsB,GAFK,2CAAH,sDAKnB0B,EAAW,uCAAG,WAAOI,EAASP,GAAhB,SAAAlK,EAAA,sDACnB0C,EAAQ+H,GACRN,EAAWD,GAFQ,2CAAH,wDAoCjB,OACC,gCACC,0BAAS9K,UAAU,gBAAnB,UACC,4CACA,wBAAQA,UAAU,cAAcuB,QAAS,kBAAM0J,GAAY,EAAM,QAAjE,kCAKD,yBAASjL,UAAU,eAAnB,gBACEmL,QADF,IACEA,OADF,EACEA,EAAcjK,KAAI,SAACoK,GAAD,OAClB,cAAC,EAAD,CAA2BxC,QAASwC,EAAKtC,MAAOA,EAAOC,oBAAqBA,GAA1DqC,EAAIlK,UAIxB,eAACoC,EAAA,EAAD,CAAO+H,gBAAgB,cAAcC,UAAQ,EAACxL,UAAU,YAAYqD,KAAMA,EAAMI,OAAQ,kBAAMwH,GAAY,EAAO,KAAjH,UA9CmB,SAACH,GACrB,GAAIzH,EACH,OAAQyH,GACP,IAAK,MACJ,OACC,qCACC,cAACtH,EAAA,EAAME,OAAP,UACC,cAACF,EAAA,EAAMG,MAAP,qCAED,cAACH,EAAA,EAAMI,KAAP,UACC,cAAC,GAAD,CAAYN,QAASA,EAASiG,sBAAuBA,EAAuBC,mBAAoBA,SAIpG,IAAK,OACJ,OACC,qCACC,cAAChG,EAAA,EAAME,OAAP,UACC,cAACF,EAAA,EAAMG,MAAP,oCAED,cAACH,EAAA,EAAMI,KAAP,UACC,cAAC,EAAD,CAAaN,QAASA,EAASwF,QAASkC,EAAiBzB,sBAAuBA,EAAuBC,mBAAoBA,UA0B9HiC,CAAaX,GAEd,cAACtH,EAAA,EAAMQ,OAAP,UACC,wBAAQhE,UAAU,wBAAwBuB,QAAS,kBAAM0J,GAAY,EAAO,KAA5E,6BC9FQrM,GAAU,uCAAG,WAAO8M,GAAP,iBAAA9K,EAAA,sEACN0B,EAAc,cAAeoJ,EAAS,QADhC,cACnBlG,EADmB,gBAENA,EAAKjB,OAFC,cAEnBpC,EAFmB,yBAGlBA,EAAKuJ,SAHa,2CAAH,sDAKVC,GAAa,uCAAG,WAAOD,EAAS9F,GAAhB,iBAAAhF,EAAA,sEACtB0B,EAAc,kBAAD,OAAmBsD,GAAM8F,EAAS,QADzB,uBAET9J,EAAc,WAFL,cAEtB4D,EAFsB,gBAGTA,EAAKjB,OAHI,cAGtBpC,EAHsB,yBAIrBA,EAAK5B,UAJgB,2CAAH,wDAMbhB,GAAa,uCAAG,WAAOqG,GAAP,iBAAAhF,EAAA,sEACtB0B,EAAc,kBAAD,OAAmBsD,GAAM,GAAI,QADpB,uBAEThE,EAAc,WAFL,cAEtB4D,EAFsB,gBAGTA,EAAKjB,OAHI,cAGtBpC,EAHsB,yBAIrBA,EAAK5B,UAJgB,2CAAH,sDCVbqL,GAAmBC,IAAMC,MAAK,YAA6G,IAA1GlJ,EAAyG,EAAzGA,UAAWC,EAA8F,EAA9FA,YAAaC,EAAiF,EAAjFA,UAAWC,EAAsE,EAAtEA,UAAWC,EAA2D,EAA3DA,WAAYC,EAA+C,EAA/CA,UAAWC,EAAoC,EAApCA,WAAoC,IAAxBC,iBAAwB,WAC9HC,oBAAS,GADqH,mBAC/IC,EAD+I,KACzIC,EADyI,KAGhJC,EAAc,kBAAMD,GAAQ,IAC5BhD,EAAa,kBAAMgD,GAAQ,IAEjC,OACC,qCACEL,EACA,sBAAKjD,UAAU,aAAf,UACEmD,EACA,gCACC,8BAAIJ,EAAJ,QAEA,iCACC,qBAAK9C,IAAKgD,EAAW/C,IAAK0C,SAI5B,8BACEG,EADF,KACc,iCAASE,OAGxB,gCACC,wBAAQjD,UAAU,wBAAwBuB,QAAS,kBAAMsB,EAAYD,IAArE,oBAGA,wBAAQ5C,UAAU,cAAcuB,QAASjB,EAAzC,0BAMF,sBAAKN,UAAU,aAAf,UACC,8BACE+C,EADF,KACc,iDAEd,wBAAQ/C,UAAU,cAAcuB,QAASjB,EAAzC,0BAMF,eAACkD,EAAA,EAAD,CAAOxD,UAAU,YAAYqD,KAAMA,EAAMI,OAAQF,EAAjD,UACC,cAACC,EAAA,EAAME,OAAP,UACC,cAACF,EAAA,EAAMG,MAAP,UAAcV,MAEf,cAACO,EAAA,EAAMI,KAAP,UACC,uBAAM5D,UAAU,YAAY6D,SAAUX,EAAtC,UACC,uBAAOzB,KAAMmB,EAAWhD,KAAMkD,EAAWgB,SAAUd,EAAYe,YAAad,IAC5E,wBAAQjD,UAAU,SAASJ,KAAK,SAAS2B,QAASgC,EAAlD,0BAKF,cAACC,EAAA,EAAMQ,OAAP,UACC,wBAAQhE,UAAU,SAASuB,QAASgC,EAApC,+BC/CQwI,GAAgB,WAAO,IAC3BrL,EAASF,qBAAWzC,GAApB2C,KAD0B,EAEKF,qBAAWJ,GAA1C4L,EAF0B,EAE1BA,iBAAkBzL,EAFQ,EAERA,SAClBqF,EAAOqG,cAAPrG,GAH0B,EAIiCf,IAA3DE,EAJ0B,EAI1BA,OAAQC,EAJkB,EAIlBA,UAAWE,EAJO,EAIPA,kBAAmBG,EAJZ,EAIYA,iBACtC6G,EAAsFnH,EAAtFmH,MAAOC,EAA+EpH,EAA/EoH,KAAMC,EAAyErH,EAAzEqH,SAAeC,EAA0DtH,EAA/D3D,IAAgBkL,EAA+CvH,EAA/CuH,YAAa1D,EAAkC7D,EAAlC6D,QAASD,EAAyB5D,EAAzB4D,SAAU4D,EAAexH,EAAfwH,WACzEC,EAAUC,cACZC,EAAcC,mBAPgB,EAQFvJ,qBARE,mBAQ3BqG,EAR2B,KAQjBC,EARiB,KAUlC9B,qBAAU,WACLrH,EAASU,OAAS,IACrByL,EAAYE,QAAUrM,EAASsM,MAAK,SAACC,GAAD,OAAUA,EAAK1L,MAAQwE,KAC3DZ,EAAU0H,EAAYE,YAErB,CAAChH,EAAIrF,EAAUyE,IAClB,IAAM4E,EAAa,SAACmD,GACFlD,SAASC,eAAeiD,GAChC3H,MAAQ,IAoCZ2E,EAAmB,uCAAG,iCAAAnJ,EAAA,6DAASuE,EAAT,EAASA,OAC9BjB,EAAOiB,EAAOG,MAAM,GADC,SAETrB,EAAWC,GAFF,OAErBlC,EAFqB,OAI3B0H,EAAY1H,GAJe,2CAAH,sDAiEnBgF,EAAY,uCAAG,4BAAApG,EAAA,6DACpB4L,EAAQQ,KAAK,QADO,SAEOzN,GAAcqG,GAFrB,OAEdqH,EAFc,OAGpBjB,EAAiB,CAAEpM,KAAM1B,EAAMqB,cAAeM,QAASoN,IAHnC,2CAAH,qDAMZpK,EAAW,uCAAG,WAAOoE,GAAP,SAAArG,EAAA,sDACnBoE,EAAU,2BACND,GADK,kBAEPkC,EAAW,MAHM,2CAAH,sDAOXC,EAAe,SAACC,GACrBA,EAAEC,kBAGGC,EAAW,uCAAG,4BAAAzG,EAAA,sEACU+K,GAAc5G,EAAQsH,GADhC,OACba,EADa,OAEnBlB,EAAiB,CAAEpM,KAAM1B,EAAMoB,cAAeO,QAASqN,IACvDlH,IAAKC,KAAK,cAAY,iCAAkC,WAHrC,2CAAH,qDAMjB,OACC,mCACC,0BAASjG,UAAU,iBAAnB,UACC,6CACS,sCAAO+E,QAAP,IAAOA,OAAP,EAAOA,EAAQ1D,iBAGxB,wBAAQrB,UAAU,cAAcuB,QAAS8F,EAAzC,6BAIgB,kBAAf3G,EAAKY,OACL,wBAAQtB,UAAU,wBAAwBuB,QAASyF,EAAnD,qCAKCkF,GAAmB,KAAVA,IACV,cAACN,GAAD,CAAkBhJ,UAAW,QAASC,YAAaA,EAAaC,UAAU,OAAOC,UAAW,YAAUC,WAAYkC,EAAmBjC,UAAS,OAAE8B,QAAF,IAAEA,OAAF,EAAEA,EAAQmH,MAAOhJ,WAAYgE,IAE3KkF,GACA,cAACR,GAAD,CACChJ,UAAW,WACXC,YAAaA,EACbC,UAAU,OACVC,UAAW,eACXC,WAAYkC,EACZjC,UAAS,OAAE8B,QAAF,IAAEA,OAAF,EAAEA,EAAQqH,SACnBlJ,WAAYgE,IAGbiF,GACA,cAACP,GAAD,CAAkBhJ,UAAW,OAAQC,YAAaA,EAAaC,UAAU,OAAOC,UAAW,QAASC,WAAYkC,EAAmBjC,UAAS,OAAE8B,QAAF,IAAEA,OAAF,EAAEA,EAAQoH,KAAMjJ,WAAYgE,IAGxKoF,GACA,cAACV,GAAD,CACCzI,WAAW,EACXP,UAAW,cACXC,YAAaA,EACbC,UAAU,OACVC,UAAW,mBACXC,WAAYqC,EACZpC,UAAS,OAAE8B,QAAF,IAAEA,OAAF,EAAEA,EAAQuH,YACnBpJ,WAAYgE,KAIN,OAAP0B,QAAO,IAAPA,OAAA,EAAAA,EAAS3H,QAAS,GAClB,sBAAKjB,UAAU,eAAf,UACC,qBAAKA,UAAU,UAAf,gBACE4I,QADF,IACEA,OADF,EACEA,EAAS1H,KAAI,SAACsJ,EAASzB,GAAV,OACb,yBAAQ/I,UAAU,eAAlB,UACC,qBAAKC,IAAKuK,EAAStK,IAAI,KACvB,cAAC,IAAD,CAAiBF,UAAU,aAAauB,QAAS,kBAxHnC,SAACwH,GACtB,IAAM0B,EAAW,YAAO7B,GACxB6B,EAAYH,OAAOvB,EAAK,GACxB/D,EAAU,2BACND,GADK,IAER6D,QAAS6B,KAmHoDC,CAAc3B,IAAM/H,KAAK,mBAF3C+H,QAMxC,sBAAK/I,UAAU,oBAAf,UACC,uBAAOA,UAAU,aAAaJ,KAAK,OAAOkE,SAAUiG,EAAqBhG,YAAa,iBAAetC,KAAK,YAC1G,wBAAQF,QA7IW,SAAC4F,GACzBA,EAAEC,iBACGwB,GAKM,OAACA,QAAD,IAACA,OAAD,EAACA,EAASuB,SAASV,KAC7BzE,EAAU,2BACND,GADK,IAER6D,QAAQ,GAAD,mBAAMA,GAAN,CAAea,OAPvBzE,EAAU,2BACND,GADK,IAER6D,QAAS,CAACa,OAwI4BzJ,UAAU,cAA7C,8BAOM,OAAR2I,QAAQ,IAARA,OAAA,EAAAA,EAAU1H,QAAS,GACnB,sBAAKjB,UAAU,gBAAf,UACC,qBAAKA,UAAU,WAAf,gBACE2I,QADF,IACEA,OADF,EACEA,EAAUzH,KAAI,SAACkJ,EAAIrB,GAAL,OACd,sBAAK/I,UAAU,YAAf,UACEoK,EACD,cAAC,IAAD,CAAiB7I,QAAS,kBAjMZ,SAACwH,GACtB,IAAMsB,EAAQ,YAAO1B,GACrB0B,EAASC,OAAOvB,EAAK,GACrB/D,EAAU,2BACND,GADK,IAER4D,SAAU0B,KA4L4BE,CAAcxB,IAAM/H,KAAK,mBAF1BoJ,QAMlC,sBAAKpK,UAAU,qBAAf,UACC,uBAAOJ,KAAK,OAAOgG,GAAG,oBAAoB9B,SA7LpB,SAACqD,GAC5BuC,EAAYvC,EAAEhC,OAAOC,QA4LyDrB,YAAa,8BAAyBtC,KAAK,aACpH,wBAAQF,QA1LW,SAAC4F,GACzBA,EAAEC,iBACGuB,GAMM,OAACA,QAAD,IAACA,OAAD,EAACA,EAAUwB,SAASV,MAC9BzE,EAAU,2BACND,GADK,IAER4D,SAAS,GAAD,mBAAMA,GAAN,CAAgBc,OAEzBG,EAAW,uBAVX5E,EAAU,2BACND,GADK,IAER4D,SAAU,CAACc,MAEZG,EAAW,sBAQZA,EAAW,sBA2K6B5J,UAAU,cAA7C,8BAMQ,OAAVuM,QAAU,IAAVA,OAAA,EAAAA,EAAYtL,QAAS,GACrB,sBAAKjB,UAAU,gBAAf,UACC,qBAAKA,UAAU,WAAf,gBACEuM,QADF,IACEA,OADF,EACEA,EAAYrL,KAAI,SAACiM,EAAKpE,GAAN,OAChB,sBAAK/I,UAAU,YAAf,UACEmN,EACD,cAAC,IAAD,CAAiB5L,QAAS,kBAnJV,SAACwH,GACxB,IAAMqE,EAAS,YAAOb,GACtBa,EAAU9C,OAAOvB,EAAK,GACtB/D,EAAU,2BACND,GADK,IAERwH,WAAYa,KA8I0BC,CAAgBtE,IAAM/H,KAAK,mBAF5BmM,QAMlC,sBAAKnN,UAAU,qBAAf,UACC,uBAAOJ,KAAK,OAAOgG,GAAG,kBAAkB9B,SA/IhB,SAACqD,GAC9BuC,EAAYvC,EAAEhC,OAAOC,QA8IyDrB,YAAa,kBAAgBtC,KAAK,eAC3G,wBAAQF,QA5Ia,SAAC4F,GAC3BA,EAAEC,iBACGmF,GAMM,OAACA,QAAD,IAACA,OAAD,EAACA,EAAYpC,SAASV,MAChCzE,EAAU,2BACND,GADK,IAERwH,WAAW,GAAD,mBAAMA,GAAN,CAAkB9C,OAE7BG,EAAW,qBAVX5E,EAAU,2BACND,GADK,IAERwH,WAAY,CAAC9C,MAEdG,EAAW,oBAQZA,EAAW,oBA6H+B5J,UAAU,cAA/C,mCCnPMsN,GAAa,SAAC,GAAqB,IAAnB/J,EAAkB,EAAlBA,YACpByI,EAAqBxL,qBAAWJ,GAAhC4L,iBADsC,EAEd5I,qBAFc,mBAEvCqG,EAFuC,KAE7BC,EAF6B,OAIqB7E,IAA3DE,EAJsC,EAItCA,OAAQC,EAJ8B,EAI9BA,UAAWE,EAJmB,EAInBA,kBAAmBG,EAJA,EAIAA,iBACtCiH,EAA+CvH,EAA/CuH,YAAa1D,EAAkC7D,EAAlC6D,QAASD,EAAyB5D,EAAzB4D,SAAU4D,EAAexH,EAAfwH,WAElC3C,EAAa,SAACmD,GACFlD,SAASC,eAAeiD,GAChC3H,MAAQ,IAgEZ2E,EAAmB,uCAAG,iCAAAnJ,EAAA,6DAASuE,EAAT,EAASA,OAC9BjB,EAAOiB,EAAOG,MAAM,GADC,SAETrB,EAAWC,GAFF,OAErBlC,EAFqB,OAI3B0H,EAAY1H,GAJe,2CAAH,sDA+BnBkF,EAAY,uCAAG,WAAOC,GAAP,eAAAvG,EAAA,6DACpBuG,EAAEC,iBADkB,SAEKxI,GAAWmG,GAFhB,OAEdwI,EAFc,OAGpBvB,EAAiB,CAAEpM,KAAM1B,EAAMU,WAAYiB,QAAS0N,IACpDhK,IAJoB,2CAAH,sDAOlB,OACC,mCACC,uBAAMvD,UAAU,eAAe6D,SAAUqD,EAAzC,UACC,sBAAKlH,UAAU,YAAf,UACC,0DAA+B,OAAN+E,QAAM,IAANA,OAAA,EAAAA,EAAQyI,cAAe,cAAC,IAAD,CAAiBxN,UAAU,WAAWgB,KAAK,oBAC3F,yBAAQ8C,SAAUoB,EAAmBzD,KAAK,cAAcwI,UAAQ,EAAhE,UACC,wBAAQ7E,MAAM,UAAU8E,cAAY,EAApC,wBAGA,wBAAQ9E,MAAM,MAAd,uBACA,wBAAQA,MAAM,SAAd,sBACA,wBAAQA,MAAM,SAAd,uBAGD,+DAAoC,OAANL,QAAM,IAANA,OAAA,EAAAA,EAAQ1D,cAAe,cAAC,IAAD,CAAiBrB,UAAU,WAAWgB,KAAK,oBAChG,uBAAOpB,KAAK,OAAOkE,SAAUoB,EAAmBzD,KAAK,cAAcgM,aAAa,MAAM1J,YAAY,0BAAuBkG,UAAQ,IAEjI,gDAAqB,OAANlF,QAAM,IAANA,OAAA,EAAAA,EAAQmH,QAAS,cAAC,IAAD,CAAiBlM,UAAU,WAAWgB,KAAK,oBAC3E,uBAAOpB,KAAK,OAAOkE,SAAUoB,EAAmBuI,aAAa,MAAMhM,KAAK,QAAQsC,YAAY,YAASkG,UAAQ,IAE7G,kDACA,uBAAOrK,KAAK,OAAOkE,SAAUoB,EAAmBuI,aAAa,MAAMhM,KAAK,WAAWsC,YAAY,iBAE/F,2CACA,0BAAUnE,KAAK,OAAOkE,SAAUoB,EAAmBuI,aAAa,MAAMhM,KAAK,OAAOsC,YAAY,UAE9F,qDACCuI,GACA,wBAAQtM,UAAU,eAAlB,SACC,qBAAKC,IAAKqM,EAAapM,IAAI,OAI7B,uBAAOF,UAAU,aAAaJ,KAAK,OAAOkE,SAAUuB,EAAkB5D,KAAK,mBAG5E,sBAAKzB,UAAU,aAAf,UACC,uBAAOuH,QAAQ,GAAf,uCACA,qBAAKvH,UAAU,UAAf,gBACE4I,QADF,IACEA,OADF,EACEA,EAAS1H,KAAI,SAACsJ,EAASzB,GAAV,OACb,yBAAQ/I,UAAU,eAAlB,UACC,qBAAKC,IAAKuK,EAAStK,IAAI,KACvB,cAAC,IAAD,CAAiBF,UAAU,aAAauB,QAAS,kBA1DlC,SAACwH,GACtB,IAAM0B,EAAW,YAAO7B,GACxB6B,EAAYH,OAAOvB,EAAK,GACxB/D,EAAU,2BACND,GADK,IAER6D,QAAS6B,KAqDmDC,CAAc3B,IAAM/H,KAAK,mBAF3C+H,QAOxC,sBAAK/I,UAAU,oBAAf,UACC,uBAAOA,UAAU,aAAaJ,KAAK,OAAOkE,SAAUiG,EAAqBhG,YAAa,iBAAetC,KAAK,YAC1G,wBAAQF,QAhFY,SAAC4F,GACzBA,EAAEC,iBACGwB,GAKM,OAACA,QAAD,IAACA,OAAD,EAACA,EAASuB,SAASV,KAC7BzE,EAAU,2BACND,GADK,IAER6D,QAAQ,GAAD,mBAAMA,GAAN,CAAea,OAPvBzE,EAAU,2BACND,GADK,IAER6D,QAAS,CAACa,OA2E2BzJ,UAAU,oBAA7C,0BAKD,uBAAOuH,QAAQ,GAAf,gCACA,qBAAKvH,UAAU,WAAf,gBACE2I,QADF,IACEA,OADF,EACEA,EAAUzH,KAAI,SAACkJ,EAAIrB,GAAL,OACd,sBAAK/I,UAAU,YAAf,UACEoK,EACD,cAAC,IAAD,CAAiB7I,QAAS,kBAhIX,SAACwH,GACtB,IAAMsB,EAAQ,YAAO1B,GACrB0B,EAASC,OAAOvB,EAAK,GACrB/D,EAAU,2BACND,GADK,IAER4D,SAAU0B,KA2H2BE,CAAcxB,IAAM/H,KAAK,mBAF1BoJ,QAMlC,sBAAKpK,UAAU,qBAAf,UACC,uBAAOJ,KAAK,OAAOgG,GAAG,4BAA4B9B,SA5H3B,SAACqD,GAC5BuC,EAAYvC,EAAEhC,OAAOC,QA2HgErB,YAAa,8BAAyBtC,KAAK,aAC5H,wBAAQF,QAzHY,SAAC4F,GACzBA,EAAEC,iBACGuB,GAMM,OAACA,QAAD,IAACA,OAAD,EAACA,EAAUwB,SAASV,MAC9BzE,EAAU,2BACND,GADK,IAER4D,SAAS,GAAD,mBAAMA,GAAN,CAAgBc,OAEzBG,EAAW,+BAVX5E,EAAU,2BACND,GADK,IAER4D,SAAU,CAACc,MAEZG,EAAW,8BAQZA,EAAW,8BA0G4B5J,UAAU,oBAA7C,0BAKD,0DACA,qBAAKA,UAAU,WAAf,gBACEuM,QADF,IACEA,OADF,EACEA,EAAYrL,KAAI,SAACiM,EAAKpE,GAAN,OAChB,sBAAK/I,UAAU,YAAf,UACEmN,EACD,cAAC,IAAD,CAAiB5L,QAAS,kBA9KT,SAACwH,GACxB,IAAMqE,EAAS,YAAOb,GACtBa,EAAU9C,OAAOvB,EAAK,GACtB/D,EAAU,2BACND,GADK,IAERwH,WAAYa,KAyKyBC,CAAgBtE,IAAM/H,KAAK,mBAF5BmM,QAMlC,sBAAKnN,UAAU,qBAAf,UACC,uBAAOJ,KAAK,OAAOgG,GAAG,0BAA0B9B,SA1KvB,SAACqD,GAC9BuC,EAAYvC,EAAEhC,OAAOC,QAyKgErB,YAAa,kBAAgBtC,KAAK,eACnH,wBAAQF,QAvKc,SAAC4F,GAC3BA,EAAEC,iBACGmF,GAMM,OAACA,QAAD,IAACA,OAAD,EAACA,EAAYpC,SAASV,MAChCzE,EAAU,2BACND,GADK,IAERwH,WAAW,GAAD,mBAAMA,GAAN,CAAkB9C,OAE7BG,EAAW,6BAVX5E,EAAU,2BACND,GADK,IAERwH,WAAY,CAAC9C,MAEdG,EAAW,4BAQZA,EAAW,4BAwJ8B5J,UAAU,oBAA/C,6BAKF,wBAAQA,UAAU,cAAcJ,KAAK,SAArC,iCC3MS8N,GAAkB,WAAyB,IAAxBhO,EAAuB,uDAAf,GAAIC,EAAW,uCACtD,OAAQA,EAAOC,MACd,KAAK1B,EAAMmB,YACV,OAAOM,EAAOE,QAEf,KAAK3B,EAAMU,WACV,MAAM,GAAN,mBAAWc,GAAX,CAAkBC,EAAOE,UAE1B,KAAK3B,EAAMqB,cACV,OAAOI,EAAOE,QAEf,KAAK3B,EAAMsB,WACV,OAAO,eAAKG,EAAOE,SAEpB,KAAK3B,EAAMoB,cACV,OAAOK,EAAOE,QAEf,QACC,OAAOH,ICFGiO,GAAY,WACxB,IAAMC,EAAYjB,kBAAO,GACjBjM,EAASF,qBAAWzC,GAApB2C,KAFsB,EAGO2F,qBAAWqH,GAAiB,IAHnC,mBAGvBnN,EAHuB,KAGbyL,EAHa,KAK9BpE,qBAAU,WACT,OAAO,WACNgG,EAAUhB,SAAU,MAItBhF,qBAAU,WACLgG,EAAUhB,SACbhL,EAAc,WACZ0C,MAAK,SAACxC,GAAD,OAAUA,EAAKyC,UACpBD,MAAK,SAACxC,GAAD,OAAUkK,EAAiB,CAAEpM,KAAM1B,EAAMmB,YAAaQ,QAASiC,EAAKvB,cACzEkE,OAAM,SAACC,GAAD,OAAS,IAAImD,MAAMnD,QAE1B,IAlB2B,MAoBNtB,oBAAS,GApBH,mBAoBvBC,EApBuB,KAoBjBC,EApBiB,KAqBxBC,EAAc,kBAAMD,GAAQ,IAGlC,OACC,cAAC,IAAD,UACC,8BACE5C,EAAK6B,MACL,mCACC,cAACnC,EAAeyN,SAAhB,CAAyBzI,MAAO,CAAE7E,WAAUyL,oBAA5C,SACC,sBAAKhM,UAAU,sBAAf,UACC,cAAC,EAAD,CAAcM,WATF,kBAAMgD,GAAQ,MAW1B,iCACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOwK,OAAK,EAACC,KAAK,OAAOC,UAAWxM,IACpC,cAAC,IAAD,CAAOuM,KAAK,eAAeC,UAAWxG,IACtC,cAAC,IAAD,CAAOuG,KAAK,kBAAkBC,UAAWnD,KACzC,cAAC,IAAD,CAAOkD,KAAK,mBAAmBC,UAAW,SAACC,GAAD,OAAW,cAAC,GAAD,eAAmBA,OACxE,cAAC,IAAD,CAAU9N,GAAG,YAGd,eAACqD,EAAA,EAAD,CAAO+H,gBAAgB,cAAcC,UAAQ,EAACxL,UAAU,YAAYqD,KAAMA,EAAMI,OAAQF,EAAxF,UACC,cAACC,EAAA,EAAME,OAAP,UACC,iEAED,cAACF,EAAA,EAAMI,KAAP,UACC,cAAC,GAAD,CAAYL,YAAaA,MAG1B,cAACC,EAAA,EAAMQ,OAAP,UACC,wBAAQhE,UAAU,wBAAwBuB,QAASgC,EAAnD,mCAUN,qCACC,cAAC,EAAD,IAEA,uBAAMvD,UAAU,YAAhB,UACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAO8N,OAAK,EAACC,KAAK,IAAIC,UAAW3F,IACjC,cAAC,IAAD,CAAO0F,KAAK,YAAYC,UAAWzF,IACnC,cAAC,IAAD,CAAUpI,GAAG,SAEd,4DACA,kFC/EP+N,IAAQC,IAAIC,IAAKC,IAAeC,IAAeC,IAAaC,KAE5D,IAAMC,GAAO,WACZ,OAAOrM,KAAKsM,MAAM7N,aAAa2B,QAAQ,cAAgB,CAAE1C,QAAQ,IA0BnD6O,GAxBH,WACX,IAAMf,EAAYjB,kBAAO,GADR,EAEQtG,qBAAW5G,EAAa,GAAIgP,IAFpC,mBAEV/N,EAFU,KAEJD,EAFI,KAejB,OAZAmH,qBAAU,WACT,OAAO,WACNgG,EAAUhB,SAAU,KAEnB,IAEHhF,qBAAU,WACLgG,EAAUhB,SACb/L,aAAaoH,QAAQ,WAAY7F,KAAKC,UAAU3B,MAE/C,CAACA,IAGH,mCACC,cAAC3C,EAAY8P,SAAb,CAAsBzI,MAAO,CAAE1E,OAAMD,YAArC,SACC,cAAC,GAAD,SC7BJmO,IAASC,OAAO,cAAC,GAAD,IAAShF,SAASC,eAAe,W","file":"static/js/main.2a0bc1e2.chunk.js","sourcesContent":["const { createContext } = require('react')\n\nexport const AuthContext = createContext()\n","export const types = {\n\tlogin: '[auth] login',\n\tsignup: '[auth] signup',\n\tlogout: '[auth] logout',\n\thasToken: '[auth] hastoken',\n\n\tgetCompany: '[company] getCompany',\n\taddCompany: '[company] addCompany',\n\tcompanyUpdate: '[company] companyUpdate',\n\tcompanyDelete: '[company] companyDelete',\n\tdeleteProperty: '[company] deleteProperty',\n\n\taddSection: '[sections] addSection',\n\n\tgetMaquinas: '[Maquina] getMaquina',\n\tgetThisMaquinas: '[Maquina] getThisMaquina',\n\tupdateThisMaquinas: '[Maquina] updateThisMaquinas',\n\taddMaquina: '[Maquina] addMaquina',\n\tmaquinaUpdate: '[Maquina] MaquinaUpdate',\n\tmaquinaDelete: '[Maquina] MaquinaDelete',\n\tfeaturesUpdate: '[Maquina] featuresUpdate',\n\tgalleryUpdate: '[Maquina] galleryUpdate',\n\n\tgetSections: '[Section] getSections',\n\tsectionUpdate: '[Section] sectionUpdate',\n\tdeleteSection: '[Section] deleteSection',\n\tupdateThis: '[Section] updateThis',\n}\n","import { types } from '../../types/types'\n\nexport const AuthReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase types.login:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.signup:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.hasToken:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.logout:\n\t\t\treturn {\n\t\t\t\tlogged: false,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nexport const Navbar = () => {\n\treturn (\n\t\t<nav className='login-nav'>\n\t\t\t<div className='container'>\n\t\t\t\t<figure>\n\t\t\t\t\t<img src='https://res.cloudinary.com/mbr-app/image/upload/v1605125325/logoSecundario_lnnyol.svg' alt='' />\n\t\t\t\t</figure>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to='/'>Entrar</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to='/registro'>Registro</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</nav>\n\t)\n}\n","const { createContext } = require('react')\n\nexport const SectionContext = createContext()\n","import React, { useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport { AuthContext } from './../reducers/auth/AuthContext'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { SectionContext } from '../reducers/sections/sectionsContext'\nimport { types } from '../types/types'\n\nexport const DashboardNav = ({ handleShow }) => {\n\tconst { sections } = useContext(SectionContext)\n\tconst { dispatch, user } = useContext(AuthContext)\n\n\tconst handleLogout = async () => {\n\t\tawait dispatch({ type: types.logout })\n\t\tawait localStorage.removeItem('mbr-token')\n\t\tawait localStorage.removeItem('mbr-user')\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<nav className='dash-nav'>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to='/mbr'>\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t<img src='https://res.cloudinary.com/mbr-app/image/upload/v1605125325/logoSecundario_lnnyol.svg' alt='' />\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to='/mbr/empresa'>Datos de empresa</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to='/mbr/maquinaria'>Maquinaria</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className='dropdown'>\n\t\t\t\t\t\t<p data-toggle='dropdown'>\n\t\t\t\t\t\t\tSecciones de la web <FontAwesomeIcon icon='chevron-down' />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t{sections.length > 0 && (\n\t\t\t\t\t\t\t<ul className='dropdown-menu'>\n\t\t\t\t\t\t\t\t{sections.map((st) => (\n\t\t\t\t\t\t\t\t\t<li key={st._id}>\n\t\t\t\t\t\t\t\t\t\t<Link to={`/mbr/seccion/${st._id}`}>{st.sectionName}</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div className='btn-group'>\n\t\t\t\t\t<small>Made with &hearts; by Yai</small>\n\t\t\t\t\t<small>&copy; Mecánica Brañosera S.L.</small>\n\t\t\t\t\t{user.email === 'admin@yai.com' && (\n\t\t\t\t\t\t<button className='my-btn third mini' onClick={handleShow}>\n\t\t\t\t\t\t\tAñadir Sección\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t\t<button className='my-btn secondary mini' onClick={handleLogout}>\n\t\t\t\t\t\tCerrar Sesión\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t</>\n\t)\n}\n","import React, { useContext } from 'react'\nimport { AuthContext } from './../reducers/auth/AuthContext'\n\nexport const DashboardScreen = () => {\n\tconst { user } = useContext(AuthContext)\n\treturn (\n\t\t<div>\n\t\t\t<h1>¡Bienvenid@ {user.name}!</h1>\n\t\t</div>\n\t)\n}\n","const baseURL = process.env.REACT_APP_API_URL\n\nexport const fetchSinToken = (endpoint, data = {}, method = 'GET') => {\n\tconst url = `${baseURL}/${endpoint}`\n\tif (method === 'GET') {\n\t\treturn fetch(url)\n\t} else {\n\t\treturn fetch(url, {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t'Content-type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t})\n\t}\n}\n\nexport const fetchConToken = (endpoint, data = {}, method = 'GET') => {\n\tconst url = `${baseURL}/${endpoint}`\n\tconst token = localStorage.getItem('mbr-token') || ''\n\tif (method === 'GET') {\n\t\treturn fetch(url, {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t'x-token': token,\n\t\t\t},\n\t\t})\n\t} else {\n\t\treturn fetch(url, {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t'Content-type': 'application/json',\n\t\t\t\t'x-token': token,\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t})\n\t}\n}\n","import { types } from '../types/types'\n\nexport const CompanyReducer = (state = [], action) => {\n\tswitch (action.type) {\n\t\tcase types.getCompany:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.addCompnany:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.companyUpdate:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.deleteProperty:\n\t\t\treturn {\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tcase types.companyDelete:\n\t\t\treturn {}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import React, { useState } from 'react'\nimport Modal from 'react-bootstrap/Modal'\n\nexport const EditGroup = ({ nameValue, deleteField, inputType, editLabel, editAction, editValue, submitEdit, imageEdit = false }) => {\n\tconst [show, setShow] = useState(false)\n\n\tconst handleClose = () => setShow(false)\n\tconst handleShow = () => setShow(true)\n\n\treturn (\n\t\t<>\n\t\t\t{editValue ? (\n\t\t\t\t<div className='edit-group'>\n\t\t\t\t\t{imageEdit ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p>{editLabel}: </p>\n\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t<img src={editValue} alt={nameValue} />\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{editLabel}: <strong>{editValue}</strong>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button className='my-btn mini secondary' onClick={() => deleteField(nameValue)}>\n\t\t\t\t\t\t\tBorrar\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button className='my-btn mini' onClick={handleShow}>\n\t\t\t\t\t\t\tEditar\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className='edit-group'>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{editLabel}: <small>Sin datos</small>\n\t\t\t\t\t</p>\n\t\t\t\t\t<button className='my-btn mini' onClick={handleShow}>\n\t\t\t\t\t\tAñadir\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<Modal className='edit-modal my-modals' show={show} onHide={handleClose}>\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>{editValue}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<form className='edit-form' onSubmit={submitEdit}>\n\t\t\t\t\t\t<input name={nameValue} type={inputType} onChange={editAction} placeholder={editValue} />\n\t\t\t\t\t\t<button className='my-btn' type='submit' onClick={handleClose}>\n\t\t\t\t\t\t\tGuardar\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<button className='my-btn' onClick={handleClose}>\n\t\t\t\t\t\tcerrar\n\t\t\t\t\t</button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</>\n\t)\n}\n","export const fileUpload = async (file) => {\n\tconst cloudUrl = 'https://api.cloudinary.com/v1_1/mbr-app/upload'\n\tconst formData = new FormData()\n\tformData.append('upload_preset', 'mbr-app')\n\tformData.append('file', file)\n\tlet url\n\n\tawait fetch(cloudUrl, { method: 'POST', body: formData })\n\t\t.then((data) => data.json())\n\t\t.then((data) => (url = data.secure_url))\n\t\t.catch((err) => console.log(err))\n\treturn url\n}\n","import { useState } from 'react'\nimport { fileUpload } from '../helpers/uploadFiles'\n\nconst useForm = (initialState = {}) => {\n\tconst [values, setValues] = useState(initialState)\n\n\tconst resetForm = () => {\n\t\tsetValues(initialState)\n\t}\n\n\tconst handleInputChange = ({ target }) => {\n\t\tsetValues({\n\t\t\t...values,\n\t\t\t[target.name]: target.value,\n\t\t})\n\t}\n\tconst handleFileChange = async ({ target }) => {\n\t\tconst file = target.files[0]\n\t\tconst url = await fileUpload(file)\n\t\tawait setValues({\n\t\t\t...values,\n\t\t\t[target.name]: url,\n\t\t})\n\t}\n\n\treturn { values, setValues, handleInputChange, handleFileChange, resetForm }\n}\n\nexport default useForm\n","import Swal from 'sweetalert2'\nimport { fetchConToken } from '../helpers/fetch'\n\nexport const addCompany = async (company) => {\n\tconst resp = await fetchConToken(`company/new`, company, 'POST')\n\tconst body = await resp.json()\n\tif (body.ok) {\n\t\tconst companyCreated = body.company\n\t\treturn companyCreated\n\t}\n}\nexport const updateCompany = async (id, company) => {\n\tconst resp = await fetchConToken(`company/update/${id}`, company, 'POST')\n\tconst body = await resp.json()\n\tif (body.ok) {\n\t\tconst updatedCompany = body.company\n\n\t\treturn updatedCompany\n\t} else {\n\t\tconst errorMsg = body.error\n\t\tSwal.fire('Error', errorMsg, 'error')\n\t}\n}\n\nexport const deleteCompany = async (id) => {\n\tawait fetchConToken(`company/delete/${id}`, {}, 'POST')\n}\n","import React, { useReducer } from 'react'\nimport Swal from 'sweetalert2'\nimport { CompanyReducer } from '../../reducers/CompanyReducer'\nimport { EditGroup } from './EditGroup'\nimport useForm from './../../hooks/useForm'\nimport { deleteCompany, updateCompany } from './../../actions/company.action'\nimport { types } from '../../types/types'\n\nexport const UpdateCompany = ({ company, setFetchingCompany }) => {\n\tconst [companyToUpdate, dispatch] = useReducer(CompanyReducer, company)\n\tconst { name, phone, address, _id: id, mainEmail, mainLogo, secondaryLogo, linkedin, facebook, twitter, instagram } = companyToUpdate\n\tconst { values, setValues, handleInputChange, handleFileChange } = useForm(companyToUpdate)\n\n\tconst handleDelete = async () => {\n\t\tawait deleteCompany(id)\n\t\tdispatch({ type: types.companyDelete })\n\t\t//Lift updated state to Company Screen\n\t\tsetFetchingCompany(true)\n\t\tcompany = companyToUpdate\n\t}\n\n\tconst deleteField = async (property) => {\n\t\tconst payload = {\n\t\t\t...values,\n\t\t\t[property]: '',\n\t\t}\n\t\tsetValues({\n\t\t\t...values,\n\t\t\t[property]: '',\n\t\t})\n\t\tdispatch({ type: types.updateCompany, payload })\n\t}\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault()\n\t\tdispatch({ type: types.updateCompany, payload: values })\n\t}\n\n\tconst saveChanges = async () => {\n\t\tawait updateCompany(id, companyToUpdate)\n\t\t//Lift updated state to Company Screen\n\t\tsetFetchingCompany(true)\n\t\tcompany = companyToUpdate\n\t\tSwal.fire('¡Chachi!', 'Los cambios han sido guardados', 'success')\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<h1>Datos de empresa</h1>\n\t\t\t<button className='my-btn mini' onClick={saveChanges}>\n\t\t\t\tGuardar Cambios\n\t\t\t</button>\n\t\t\t<button className='my-btn secondary mini' onClick={handleDelete}>\n\t\t\t\tBorrar esta empresa\n\t\t\t</button>\n\n\t\t\t<div className='editing'>\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'name'} inputType={'text'} editLabel={'Nombre de empresa'} editAction={handleInputChange} editValue={name} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'address'} inputType={'text'} editLabel={'Dirección'} editAction={handleInputChange} editValue={address} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'phone'} inputType={'text'} editLabel={'Teléfono principal'} editAction={handleInputChange} editValue={phone} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'mainEmail'} inputType={'email'} editLabel={'Email principal'} editAction={handleInputChange} editValue={mainEmail} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup\n\t\t\t\t\tdeleteField={deleteField}\n\t\t\t\t\tnameValue={'mainLogo'}\n\t\t\t\t\timageEdit={true}\n\t\t\t\t\tinputType={'file'}\n\t\t\t\t\teditLabel={'Logo Principal'}\n\t\t\t\t\teditAction={handleFileChange}\n\t\t\t\t\teditValue={mainLogo}\n\t\t\t\t\tsubmitEdit={handleSubmit}\n\t\t\t\t/>\n\t\t\t\t<EditGroup\n\t\t\t\t\tdeleteField={deleteField}\n\t\t\t\t\tnameValue={'secondaryLogo'}\n\t\t\t\t\timageEdit={true}\n\t\t\t\t\tinputType={'file'}\n\t\t\t\t\teditLabel={'Logo BN'}\n\t\t\t\t\teditAction={handleFileChange}\n\t\t\t\t\teditValue={secondaryLogo}\n\t\t\t\t\tsubmitEdit={handleSubmit}\n\t\t\t\t/>\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'twitter'} inputType={'text'} editLabel={'Twitter Url'} editAction={handleInputChange} editValue={twitter} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'facebook'} inputType={'text'} editLabel={'Facebook url'} editAction={handleInputChange} editValue={facebook} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'instagram'} inputType={'text'} editLabel={'Instagram Url'} editAction={handleInputChange} editValue={instagram} submitEdit={handleSubmit} />\n\t\t\t\t<EditGroup deleteField={deleteField} nameValue={'linkedin'} inputType={'text'} editLabel={'Linkedin Url'} editAction={handleInputChange} editValue={linkedin} submitEdit={handleSubmit} />\n\t\t\t</div>\n\t\t</>\n\t)\n}\n","import React from 'react'\nimport { addCompany } from './../../actions/company.action'\nimport useForm from './../../hooks/useForm'\n\nexport const AddCompany = ({ company, setFetchingCompany }) => {\n\tconst { values, handleInputChange, handleFileChange } = useForm({})\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault()\n\t\tconst companyCreated = await addCompany(values)\n\n\t\t//Lift updated state to Company Screen\n\t\tsetFetchingCompany(true)\n\t\tcompany = companyCreated\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<form className='add-form' onSubmit={handleSubmit}>\n\t\t\t\t<input type='text' name='name' placeholder='Nombre de la empresa' onChange={handleInputChange} />\n\t\t\t\t<input type='email' name='mainEmail' placeholder='Correo Principal' onChange={handleInputChange} />\n\t\t\t\t<input type='text' name='phone' placeholder='Teléfono principal' onChange={handleInputChange} />\n\t\t\t\t<input type='text' name='address' placeholder='Dirección' onChange={handleInputChange} />\n\t\t\t\t<input type='text' name='linkedin' placeholder='URL Linkedin' onChange={handleInputChange} />\n\t\t\t\t<input type='text' name='facebook' placeholder='URL Facebook' onChange={handleInputChange} />\n\t\t\t\t<input type='text' name='instagram' placeholder='URL Instagram' onChange={handleInputChange} />\n\t\t\t\t<input type='text' name='twitter' placeholder='URL Twitter' onChange={handleInputChange} />\n\t\t\t\t<div className='input-images'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label htmlFor='mainLogo'>Logo principal</label>\n\t\t\t\t\t\t<input type='file' className='file-input' name='mainLogo' id='mainLogo' placeholder='Logo Principal' onChange={handleFileChange} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label htmlFor='secondaryLogo'>Logo en BN</label>\n\t\t\t\t\t\t<input type='file' className='file-input' name='secondaryLogo' id='secondaryLogo' placeholder='Logo Secundario' onChange={handleFileChange} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button className='my-btn mini' type='submit'>\n\t\t\t\t\tCrear empresa\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</>\n\t)\n}\n","import React, { useEffect, useReducer, useState } from 'react'\nimport { fetchSinToken } from '../helpers/fetch'\nimport { CompanyReducer } from '../reducers/CompanyReducer'\nimport { types } from '../types/types'\nimport { UpdateCompany } from './company/UpdateCompany'\nimport { AddCompany } from './company/AddCompany'\n\nexport const CompanyScreen = () => {\n\tconst [fetchingCompany, setFetchingCompany] = useState(true)\n\tconst [companyData, dispatchCompanyData] = useReducer(CompanyReducer, {})\n\n\tuseEffect(() => {\n\t\tif (fetchingCompany) {\n\t\t\tfetchSinToken('company')\n\t\t\t\t.then((data) => data.json())\n\t\t\t\t.then((data) => dispatchCompanyData({ type: types.getCompany, payload: data.company[0] }))\n\t\t\t\t.catch((err) => new Error(err))\n\t\t}\n\t\treturn () => {\n\t\t\tsetFetchingCompany(false)\n\t\t}\n\t}, [fetchingCompany, companyData])\n\n\treturn <>{companyData._id ? <UpdateCompany company={companyData} setFetchingCompany={setFetchingCompany} /> : <AddCompany setFetchingCompany={setFetchingCompany} company={companyData} />}</>\n}\n","import { fetchConToken, fetchSinToken } from '../helpers/fetch'\nimport Swal from 'sweetalert2'\n\nexport const startLogin = async (email, password) => {\n\tconst resp = await fetchSinToken('auth/login', { email, password }, 'POST')\n\tconst body = await resp.json()\n\n\tif (body.ok) {\n\t\tconst loggedUser = {\n\t\t\tid: body.id,\n\t\t\tname: body.name,\n\t\t\temail: body.email,\n\t\t\tlogged: true,\n\t\t\ttoken: body.token,\n\t\t}\n\t\tlocalStorage.setItem('mbr-user', JSON.stringify(loggedUser))\n\t\tlocalStorage.setItem('mbr-token', body.token)\n\n\t\treturn loggedUser\n\t} else {\n\t\tconst errorMsg = body.msg\n\t\tSwal.fire('Error', errorMsg, 'error')\n\t}\n}\n\nexport const startSignup = async (name, email, password) => {\n\tconst resp = await fetchSinToken('auth/signup', { name, email, password }, 'POST')\n\tconst body = await resp.json()\n\n\tif (body.ok) {\n\t\tconst signedupUser = {\n\t\t\tid: body.id,\n\t\t\tname: body.name,\n\t\t\temail: body.email,\n\t\t\ttoken: body.token,\n\t\t\tlogged: true,\n\t\t}\n\t\tlocalStorage.setItem('mbr-user', JSON.stringify(signedupUser))\n\t\tlocalStorage.setItem('mbr-token', body.token)\n\n\t\treturn signedupUser\n\t} else {\n\t\tconst errorMsg = body.msg\n\t\tSwal.fire('Error', errorMsg, 'error')\n\t}\n}\n\nexport const hasToken = async () => {\n\tconst resp = await fetchConToken('auth/renew')\n\tconst body = await resp.json()\n\n\tif (body.ok) {\n\t\tlocalStorage.setItem('mbr-token', body.token)\n\t\treturn {\n\t\t\tid: body.id,\n\t\t\tname: body.name,\n\t\t\ttoken: body.token,\n\t\t\tlogged: true,\n\t\t}\n\t} else {\n\t\tconst errorMsg = body.msg\n\t\tSwal.fire('Error', errorMsg, 'error')\n\t}\n}\n","import React, { useContext } from 'react'\nimport { startLogin } from '../../actions/auth.action'\nimport { AuthContext } from './../../reducers/auth/AuthContext'\nimport useForm from '../../hooks/useForm'\nimport { Link } from 'react-router-dom'\nimport { types } from '../../types/types'\n\nexport const LoginScreen = () => {\n\tconst { values, handleInputChange } = useForm({})\n\tconst { email, password } = values\n\tconst { dispatch } = useContext(AuthContext)\n\n\tconst handleLogin = async (e) => {\n\t\te.preventDefault()\n\t\tconst loggedUser = await startLogin(email, password)\n\n\t\tdispatch({ type: types.login, payload: loggedUser })\n\t}\n\treturn (\n\t\t<>\n\t\t\t<section className='login'>\n\t\t\t\t<form onSubmit={handleLogin}>\n\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t<input type='email' onChange={handleInputChange} placeholder='Tu email' name='email' />\n\t\t\t\t\t<label>Contraseña</label>\n\t\t\t\t\t<input type='password' onChange={handleInputChange} placeholder='Contraseña' name='password' />\n\t\t\t\t\t<button type='submit' className='my-btn mini'>\n\t\t\t\t\t\tEntrar\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t\t<small>\n\t\t\t\t\t¿No tienes cuenta? Crea una <Link to='/registro'>aquí</Link>{' '}\n\t\t\t\t</small>\n\t\t\t</section>\n\t\t</>\n\t)\n}\n","import React, { useContext } from 'react'\nimport Swal from 'sweetalert2'\nimport { startSignup } from '../../actions/auth.action'\nimport { AuthContext } from './../../reducers/auth/AuthContext'\nimport useForm from '../../hooks/useForm'\nimport { Link } from 'react-router-dom'\nimport { types } from '../../types/types'\n\nexport const SignupScreen = () => {\n\tconst { values, handleInputChange } = useForm({})\n\tconst { name, email, password, password2 } = values\n\tconst { dispatch } = useContext(AuthContext)\n\n\tconst handleSignup = async (e) => {\n\t\te.preventDefault()\n\t\tif (password === password2) {\n\t\t\tconst signedupUser = await startSignup(name, email, password)\n\n\t\t\tdispatch({ type: types.signup, payload: signedupUser })\n\t\t} else {\n\t\t\tSwal.fire('Error', 'Las contraseñas deben coincidir', 'error')\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<section className='login'>\n\t\t\t\t<form onSubmit={handleSignup}>\n\t\t\t\t\t<label>Nombre</label>\n\t\t\t\t\t<input type='text' onChange={handleInputChange} placeholder='Tu nombre' name='name' />\n\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t<input type='email' onChange={handleInputChange} placeholder='Tu email' name='email' />\n\t\t\t\t\t<label>Contraseña</label>\n\t\t\t\t\t<input type='password' onChange={handleInputChange} placeholder='Contraseña' name='password' />\n\t\t\t\t\t<label>Repite Contraseña</label>\n\t\t\t\t\t<input type='password' onChange={handleInputChange} placeholder='Repite Contraseña' name='password2' />\n\t\t\t\t\t<button type='submit' className='my-btn mini'>\n\t\t\t\t\t\tRegistro\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t\t<small>\n\t\t\t\t\t¿Ya estás registrado? Entra <Link to='/'>aquí</Link>{' '}\n\t\t\t\t</small>\n\t\t\t</section>\n\t\t</>\n\t)\n}\n","import { types } from '../types/types'\n\nexport const MaquinasReducer = (state = [], action) => {\n\tswitch (action.type) {\n\t\tcase types.getMaquinas:\n\t\t\treturn action.payload\n\n\t\tcase types.getThisMaquinas:\n\t\t\treturn action.payload\n\n\t\tcase types.maquinaUpdate:\n\t\t\treturn { ...action.payload }\n\n\t\tcase types.addMaquina:\n\t\t\treturn { ...action.payload }\n\n\t\tcase types.featuresUpdate:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfeatures: action.payload,\n\t\t\t}\n\t\tcase types.galleryUpdate:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tgallery: action.payload,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import React from 'react'\n\nexport const MaquinaCard = ({ maquina, idx, getID, handleDeleteMaquina }) => {\n\treturn (\n\t\t<article className='maquina-card'>\n\t\t\t<h6>{maquina.name}</h6>\n\t\t\t<div className='maquina-card-body'>\n\t\t\t\t<figure>\n\t\t\t\t\t<img src={maquina.image} alt={maquina.name} />\n\t\t\t\t</figure>\n\t\t\t\t<div className='button-group'>\n\t\t\t\t\t<button onClick={() => getID(maquina._id)} className='my-btn mini'>\n\t\t\t\t\t\tEditar\n\t\t\t\t\t</button>\n\t\t\t\t\t<button onClick={() => handleDeleteMaquina(maquina._id, idx)} className='my-btn mini secondary'>\n\t\t\t\t\t\tBorrar\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</article>\n\t)\n}\n","import { fetchConToken } from '../helpers/fetch'\n\nexport const createMaquina = async (maquina) => {\n\tawait fetchConToken(`maquinaria/nueva`, maquina, 'POST')\n}\nexport const updateMaquina = async (id, maquina) => {\n\tawait fetchConToken(`maquinaria/actualizarMaquina/${id}`, maquina, 'POST')\n}\nexport const deleteMaquina = async (id) => {\n\tawait fetchConToken(`maquinaria/borrarMaquina/${id}`, {}, 'POST')\n}\n","import React, { useReducer, useState } from 'react'\nimport useForm from '../../hooks/useForm'\nimport { MaquinasReducer } from '../../reducers/MaquinasReducer'\nimport { types } from '../../types/types'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { updateMaquina } from '../../actions/maquina.action'\nimport { fileUpload } from '../../helpers/uploadFiles'\n\nexport const EditMaquina = ({ maquina, setShow, setFetchingMaquinaria, setmaquinaSelected }) => {\n\tconst [auxValue, setAuxValue] = useState()\n\n\tconst [maquinaToUpdate, dispatch] = useReducer(MaquinasReducer, maquina)\n\tconst { values, setValues, handleInputChange, handleFileChange } = useForm(maquinaToUpdate)\n\tconst { features, name, _id: id, gallery, image } = values\n\n\tconst clearInput = () => {\n\t\tconst theinput = document.getElementById('to-reset')\n\t\ttheinput.value = ''\n\t}\n\n\tconst deleteFeature = (idx) => {\n\t\tconst featCopy = [...features]\n\t\tfeatCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tfeatures: featCopy,\n\t\t})\n\t\tdispatch({ type: types.featuresUpdate, payload: featCopy })\n\t}\n\n\tconst deletePicture = (idx) => {\n\t\tconst galleryCopy = [...gallery]\n\t\tgalleryCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tgallery: galleryCopy,\n\t\t})\n\t\tdispatch({ type: types.galleryUpdate, payload: galleryCopy })\n\t}\n\n\tconst handleFeatureChange = (e) => {\n\t\tsetAuxValue(e.target.value)\n\t}\n\n\tconst handleAddFeature = (e) => {\n\t\te.preventDefault()\n\t\tif (!features.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [...features, auxValue],\n\t\t\t})\n\t\t\tdispatch({ type: types.featuresUpdate, payload: [...features, auxValue] })\n\t\t\tclearInput()\n\t\t}\n\t\tclearInput()\n\t}\n\n\tconst handleGalleryChange = async ({ target }) => {\n\t\tconst file = target.files[0]\n\t\tconst url = await fileUpload(file)\n\n\t\tsetAuxValue(url)\n\t}\n\n\tconst handleAddGallery = (e) => {\n\t\te.preventDefault()\n\t\tif (!gallery.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [...gallery, auxValue],\n\t\t\t})\n\t\t\tdispatch({ type: types.galleryUpdate, payload: [...gallery, auxValue] })\n\t\t\tclearInput()\n\t\t}\n\t\tclearInput()\n\t}\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault()\n\t\tdispatch({ type: types.maquinaUpdate, payload: values })\n\t}\n\n\tconst saveChanges = async () => {\n\t\tawait updateMaquina(id, maquinaToUpdate)\n\n\t\tawait setFetchingMaquinaria(true)\n\t\tawait setmaquinaSelected(maquinaToUpdate)\n\t\tawait setShow(false)\n\t}\n\n\treturn (\n\t\t<article className='modal-edit'>\n\t\t\t<div className='edit-maquina'>\n\t\t\t\t<div className='left-side'>\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Nombre de la maquina* {maquinaToUpdate?.name && <p className='preview'>{maquinaToUpdate?.name}</p>}</label>\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<input type='text' onChange={handleInputChange} placeholder={name} name='name' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tCambiar\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Tipo de maquina* {maquinaToUpdate?.category && <p className='preview'>{maquinaToUpdate?.category}</p>}</label>\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<select onChange={handleInputChange} name='category' required>\n\t\t\t\t\t\t\t\t<option defaultValue>Seleccionar...</option>\n\n\t\t\t\t\t\t\t\t<option value='Maquinaria CNC'>Maquinaria CNC</option>\n\t\t\t\t\t\t\t\t<option value='Otra maquinaria'>Otra maquinaria</option>\n\t\t\t\t\t\t\t\t<option value='Maquinaria Convencional'>Maquinaria Convencional</option>\n\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Imagen principal* {maquinaToUpdate?.image && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\n\t\t\t\t\t\t<figure className='main-image'>\n\t\t\t\t\t\t\t<img src={image} alt='' />\n\t\t\t\t\t\t</figure>\n\n\t\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t\t<input className='file-input' type='file' onChange={handleFileChange} name='image' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tCambiar\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<form onSubmit={handleAddFeature}>\n\t\t\t\t\t\t<label>Características de la maquina {maquinaToUpdate?.features && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t\t<div className='features'>\n\t\t\t\t\t\t\t{features?.map((ft, idx) => (\n\t\t\t\t\t\t\t\t<div className='each-feat' key={ft}>\n\t\t\t\t\t\t\t\t\t{ft}\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon onClick={() => deleteFeature(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<input type='text' id='to-reset' onChange={handleFeatureChange} placeholder={'Añadir Característica'} name='features' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t<div className='right-side'>\n\t\t\t\t\t<form onSubmit={handleAddGallery}>\n\t\t\t\t\t\t<label>Galería de fotos de la máquina {maquinaToUpdate?.gallery && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\n\t\t\t\t\t\t<div className='gallery'>\n\t\t\t\t\t\t\t{gallery?.map((picture, idx) => (\n\t\t\t\t\t\t\t\t<figure className='each-picture' key={idx}>\n\t\t\t\t\t\t\t\t\t<img src={picture} alt={picture} />\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon className='close-icon' onClick={() => deletePicture(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t\t<input className='file-input' type='file' onChange={handleGalleryChange} placeholder={'Añadir Foto'} name='gallery' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button className='my-btn secondary' onClick={saveChanges}>\n\t\t\t\tGuardar Cambios\n\t\t\t</button>\n\t\t</article>\n\t)\n}\n","import React, { useReducer, useState } from 'react'\nimport { createMaquina } from '../../actions/maquina.action'\nimport { fileUpload } from '../../helpers/uploadFiles'\nimport useForm from '../../hooks/useForm'\nimport { MaquinasReducer } from '../../reducers/MaquinasReducer'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { types } from '../../types/types'\n\nexport const AddMaquina = ({ setShow, setmaquinaSelected, setFetchingMaquinaria }) => {\n\tconst [auxValue, setAuxValue] = useState()\n\n\tconst [maquinaToCreate, dispatch] = useReducer(MaquinasReducer)\n\tconst { values, setValues, handleInputChange, handleFileChange } = useForm()\n\tconst { features, gallery, image } = values\n\n\tconst clearInput = () => {\n\t\tconst theinput = document.getElementById('to-reset-add')\n\t\ttheinput.value = ''\n\t}\n\n\tconst deleteFeature = (idx) => {\n\t\tconst featCopy = [...features]\n\t\tfeatCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tfeatures: featCopy,\n\t\t})\n\t\tdispatch({ type: types.featuresUpdate, payload: featCopy })\n\t}\n\n\tconst handleFeatureChange = (e) => {\n\t\tsetAuxValue(e.target.value)\n\t}\n\tconst handleAddFeature = (e) => {\n\t\te.preventDefault()\n\t\tif (!features) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [auxValue],\n\t\t\t})\n\t\t\tdispatch({ type: types.featuresUpdate, payload: [auxValue] })\n\t\t\tclearInput()\n\t\t} else if (!features?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [...features, auxValue],\n\t\t\t})\n\t\t\tdispatch({ type: types.featuresUpdate, payload: [...features, auxValue] })\n\t\t\tclearInput()\n\t\t}\n\t\tclearInput()\n\t}\n\tconst handleGalleryChange = async ({ target }) => {\n\t\tconst file = target.files[0]\n\t\tconst url = await fileUpload(file)\n\n\t\tsetAuxValue(url)\n\t}\n\tconst deletePicture = (idx) => {\n\t\tconst galleryCopy = [...gallery]\n\t\tgalleryCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tgallery: galleryCopy,\n\t\t})\n\t\tdispatch({ type: types.galleryUpdate, payload: galleryCopy })\n\t}\n\n\tconst handleAddGallery = (e) => {\n\t\te.preventDefault()\n\t\tif (!gallery) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [auxValue],\n\t\t\t})\n\t\t\tdispatch({ type: types.galleryUpdate, payload: [auxValue] })\n\t\t} else if (!gallery?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [...gallery, auxValue],\n\t\t\t})\n\t\t\tdispatch({ type: types.galleryUpdate, payload: [...gallery, auxValue] })\n\t\t}\n\t}\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault()\n\t\tdispatch({ type: types.addMaquina, payload: values })\n\t}\n\n\tconst saveChanges = async () => {\n\t\tawait createMaquina(maquinaToCreate)\n\n\t\tawait setFetchingMaquinaria(true)\n\t\tawait setmaquinaSelected(maquinaToCreate)\n\t\tawait setShow(false)\n\t}\n\n\treturn (\n\t\t<article className='modal-edit'>\n\t\t\t<p>\n\t\t\t\tPara que lo que se introduzca funcione, tienes que escribir lo que sea, darle al botón \"Añadir\" y esperar a que salga este icono. <FontAwesomeIcon className='check-ok' icon='check-circle' />\n\t\t\t</p>\n\t\t\t<div className='edit-maquina'>\n\t\t\t\t<div className='left-side'>\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Nombre de la maquina* {maquinaToCreate?.name && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t\t{maquinaToCreate?.name && <p className='preview'>{maquinaToCreate?.name}</p>}\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<input type='text' onChange={handleInputChange} placeholder='Nombre de la máquina' name='name' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Tipo de maquina* {maquinaToCreate?.category && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t\t{maquinaToCreate?.category && <p className='preview'>{maquinaToCreate?.category}</p>}\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<select onChange={handleInputChange} name='category' required>\n\t\t\t\t\t\t\t\t<option defaultValue>Seleccionar...</option>\n\n\t\t\t\t\t\t\t\t<option value='Maquinaria CNC'>Maquinaria CNC</option>\n\t\t\t\t\t\t\t\t<option value='Otra maquinaria'>Otra maquinaria</option>\n\t\t\t\t\t\t\t\t<option value='Maquinaria Convencional'>Maquinaria Convencional</option>\n\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Imagen principal* {maquinaToCreate?.image && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\n\t\t\t\t\t\t{image && (\n\t\t\t\t\t\t\t<figure className='main-image'>\n\t\t\t\t\t\t\t\t<img src={image} alt='' />\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t\t<input className='file-input' type='file' onChange={handleFileChange} name='image' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<form onSubmit={handleAddFeature}>\n\t\t\t\t\t\t<label>Características de la maquina {maquinaToCreate?.features && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t\t<div className='features'>\n\t\t\t\t\t\t\t{features?.map((ft, idx) => (\n\t\t\t\t\t\t\t\t<div className='each-feat' key={ft}>\n\t\t\t\t\t\t\t\t\t{ft}\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon onClick={() => deleteFeature(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<input type='text' id='to-reset-add' onChange={handleFeatureChange} placeholder={'Añadir Característica'} name='features' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t<div className='right-side'>\n\t\t\t\t\t<form onSubmit={handleAddGallery}>\n\t\t\t\t\t\t<label>Galería de fotos de la máquina {maquinaToCreate?.gallery && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\n\t\t\t\t\t\t{gallery && (\n\t\t\t\t\t\t\t<div className='gallery'>\n\t\t\t\t\t\t\t\t{gallery?.map((picture, idx) => (\n\t\t\t\t\t\t\t\t\t<figure className='each-picture' key={idx}>\n\t\t\t\t\t\t\t\t\t\t<img src={picture} alt='' />\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon className='close-icon' onClick={() => deletePicture(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t\t<input className='file-input' type='file' onChange={handleGalleryChange} placeholder={'Añadir Foto'} name='gallery' />\n\t\t\t\t\t\t\t<button type='submit' className='my-btn mini third'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button className='my-btn secondary' onClick={saveChanges}>\n\t\t\t\tGuardar Cambios\n\t\t\t</button>\n\t\t</article>\n\t)\n}\n","import React, { useEffect, useReducer, useState } from 'react'\nimport { fetchSinToken } from '../helpers/fetch'\nimport { MaquinasReducer } from '../reducers/MaquinasReducer'\nimport { types } from '../types/types'\nimport { MaquinaCard } from './maquinas/MaquinaCard'\nimport Modal from 'react-bootstrap/Modal'\nimport { EditMaquina } from './maquinas/EditMaquina'\nimport { AddMaquina } from './maquinas/AddMaquina'\nimport { deleteMaquina } from '../actions/maquina.action'\n\nexport const MaquinasScreen = () => {\n\tconst [show, setShow] = useState(false)\n\tconst [modalId, setModalId] = useState()\n\tconst [maquinaSelected, setmaquinaSelected] = useState()\n\n\tconst getID = async (id) => {\n\t\tawait fetchSinToken(`maquinaria/${id}`)\n\t\t\t.then((data) => data.json())\n\t\t\t.then((data) => setmaquinaSelected(data.data))\n\t\t\t.then(() => handleModal(true, 'edit'))\n\t\t\t.catch((err) => new Error(err))\n\t}\n\n\tconst [fetchingMaquinaria, setFetchingMaquinaria] = useState(true)\n\tconst [maquinasData, dispatchMaquinasData] = useReducer(MaquinasReducer)\n\n\tuseEffect(() => {\n\t\tif (fetchingMaquinaria) {\n\t\t\tfetchSinToken('maquinaria')\n\t\t\t\t.then((data) => data.json())\n\t\t\t\t.then((data) => dispatchMaquinasData({ type: types.getMaquinas, payload: data.data }))\n\t\t\t\t.then(() => setFetchingMaquinaria(false))\n\t\t\t\t.catch((err) => new Error(err))\n\t\t}\n\t}, [fetchingMaquinaria, maquinaSelected])\n\n\tconst handleDeleteMaquina = async (id) => {\n\t\tawait deleteMaquina(id)\n\t\tsetFetchingMaquinaria(true)\n\t}\n\n\tconst handleModal = async (visible, modalId) => {\n\t\tsetShow(visible)\n\t\tsetModalId(modalId)\n\t}\n\n\tconst displayModal = (modalId) => {\n\t\tif (show) {\n\t\t\tswitch (modalId) {\n\t\t\t\tcase 'add':\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Modal.Header>\n\t\t\t\t\t\t\t\t<Modal.Title>Añadir Máquina</Modal.Title>\n\t\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t\t\t<AddMaquina setShow={setShow} setFetchingMaquinaria={setFetchingMaquinaria} setmaquinaSelected={setmaquinaSelected} />\n\t\t\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\tcase 'edit':\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Modal.Header>\n\t\t\t\t\t\t\t\t<Modal.Title>Editando Máquina</Modal.Title>\n\t\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t\t\t<EditMaquina setShow={setShow} maquina={maquinaSelected} setFetchingMaquinaria={setFetchingMaquinaria} setmaquinaSelected={setmaquinaSelected} />\n\t\t\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<section className='maquinas-head'>\n\t\t\t\t<h1>Maquinaria</h1>\n\t\t\t\t<button className='my-btn mini' onClick={() => handleModal(true, 'add')}>\n\t\t\t\t\tAñadir Maquina\n\t\t\t\t</button>\n\t\t\t</section>\n\n\t\t\t<section className='all-maquinas'>\n\t\t\t\t{maquinasData?.map((maq) => (\n\t\t\t\t\t<MaquinaCard key={maq._id} maquina={maq} getID={getID} handleDeleteMaquina={handleDeleteMaquina} />\n\t\t\t\t))}\n\t\t\t</section>\n\n\t\t\t<Modal dialogClassName='modal-width' centered className='my-modals' show={show} onHide={() => handleModal(false, '')}>\n\t\t\t\t{displayModal(modalId)}\n\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<button className='my-btn mini secondary' onClick={() => handleModal(false, '')}>\n\t\t\t\t\t\tcerrar\n\t\t\t\t\t</button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n}\n","import { fetchConToken, fetchSinToken } from '../helpers/fetch'\n\nexport const addSection = async (section) => {\n\tconst resp = await fetchConToken(`section/new`, section, 'POST')\n\tconst body = await resp.json()\n\treturn body.section\n}\nexport const updateSection = async (section, id) => {\n\tawait fetchConToken(`section/update/${id}`, section, 'POST')\n\tconst resp = await fetchSinToken(`section`)\n\tconst body = await resp.json()\n\treturn body.sections\n}\nexport const deleteSection = async (id) => {\n\tawait fetchConToken(`section/delete/${id}`, {}, 'POST')\n\tconst resp = await fetchSinToken(`section`)\n\tconst body = await resp.json()\n\treturn body.sections\n}\n","import React, { useState } from 'react'\nimport Modal from 'react-bootstrap/Modal'\n\nexport const EditGroupSection = React.memo(({ nameValue, deleteField, inputType, editLabel, editAction, editValue, submitEdit, imageEdit = false }) => {\n\tconst [show, setShow] = useState(false)\n\n\tconst handleClose = () => setShow(false)\n\tconst handleShow = () => setShow(true)\n\n\treturn (\n\t\t<>\n\t\t\t{editValue ? (\n\t\t\t\t<div className='edit-group'>\n\t\t\t\t\t{imageEdit ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p>{editLabel}: </p>\n\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t<img src={editValue} alt={nameValue} />\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{editLabel}: <strong>{editValue}</strong>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button className='my-btn mini secondary' onClick={() => deleteField(nameValue)}>\n\t\t\t\t\t\t\tBorrar\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button className='my-btn mini' onClick={handleShow}>\n\t\t\t\t\t\t\tEditar\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className='edit-group'>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{editLabel}: <small>Sin datos</small>\n\t\t\t\t\t</p>\n\t\t\t\t\t<button className='my-btn mini' onClick={handleShow}>\n\t\t\t\t\t\tAñadir\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<Modal className='my-modals' show={show} onHide={handleClose}>\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>{editValue}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<form className='edit-form' onSubmit={submitEdit}>\n\t\t\t\t\t\t<input name={nameValue} type={inputType} onChange={editAction} placeholder={editValue} />\n\t\t\t\t\t\t<button className='my-btn' type='submit' onClick={handleClose}>\n\t\t\t\t\t\t\tGuardar\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<button className='my-btn' onClick={handleClose}>\n\t\t\t\t\t\tcerrar\n\t\t\t\t\t</button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</>\n\t)\n})\n","import React, { useContext, useEffect, useRef, useState } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { deleteSection, updateSection } from '../actions/sections.action'\nimport useForm from '../hooks/useForm'\nimport Swal from 'sweetalert2'\nimport { AuthContext } from './../reducers/auth/AuthContext'\nimport { types } from '../types/types'\nimport { EditGroupSection } from './sections/EditGroupSection'\nimport { SectionContext } from '../reducers/sections/sectionsContext'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { fileUpload } from '../helpers/uploadFiles'\n\nexport const SectionScreen = () => {\n\tconst { user } = useContext(AuthContext)\n\tconst { dispatchSections, sections } = useContext(SectionContext)\n\tconst { id } = useParams()\n\tconst { values, setValues, handleInputChange, handleFileChange } = useForm()\n\tconst { title, text, subtitle, _id: idSection, uniqueImage, gallery, features, formInputs } = values\n\tconst history = useHistory()\n\tlet thisSection = useRef()\n\tconst [auxValue, setAuxValue] = useState()\n\n\tuseEffect(() => {\n\t\tif (sections.length > 0) {\n\t\t\tthisSection.current = sections.find((sect) => sect._id === id)\n\t\t\tsetValues(thisSection.current)\n\t\t}\n\t}, [id, sections, setValues])\n\tconst clearInput = (input) => {\n\t\tconst theinput = document.getElementById(input)\n\t\ttheinput.value = ''\n\t}\n\n\t//Features\n\tconst deleteFeature = (idx) => {\n\t\tconst featCopy = [...features]\n\t\tfeatCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tfeatures: featCopy,\n\t\t})\n\t}\n\n\tconst handleFeatureChange = (e) => {\n\t\tsetAuxValue(e.target.value)\n\t}\n\n\tconst handleAddFeature = (e) => {\n\t\te.preventDefault()\n\t\tif (!features) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-features')\n\t\t} else if (!features?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [...features, auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-features')\n\t\t}\n\t\tclearInput('to-reset-features')\n\t}\n\n\t//Galeria\n\tconst handleGalleryChange = async ({ target }) => {\n\t\tconst file = target.files[0]\n\t\tconst url = await fileUpload(file)\n\n\t\tsetAuxValue(url)\n\t}\n\n\tconst handleAddGallery = (e) => {\n\t\te.preventDefault()\n\t\tif (!gallery) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [auxValue],\n\t\t\t})\n\t\t} else if (!gallery?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [...gallery, auxValue],\n\t\t\t})\n\t\t}\n\t}\n\n\tconst deletePicture = (idx) => {\n\t\tconst galleryCopy = [...gallery]\n\t\tgalleryCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tgallery: galleryCopy,\n\t\t})\n\t}\n\n\t//Form inputs\n\tconst deleteFormInput = (idx) => {\n\t\tconst inputCopy = [...formInputs]\n\t\tinputCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tformInputs: inputCopy,\n\t\t})\n\t}\n\n\tconst handleChangeFormInput = (e) => {\n\t\tsetAuxValue(e.target.value)\n\t}\n\n\tconst handleAddFormInput = (e) => {\n\t\te.preventDefault()\n\t\tif (!formInputs) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tformInputs: [auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-inputs')\n\t\t} else if (!formInputs?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tformInputs: [...formInputs, auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-inputs')\n\t\t}\n\t\tclearInput('to-reset-inputs')\n\t}\n\n\t//Borrar propiedades\n\n\tconst handleDelete = async () => {\n\t\thistory.push('/mbr')\n\t\tconst sectionGroup = await deleteSection(id)\n\t\tdispatchSections({ type: types.deleteSection, payload: sectionGroup })\n\t}\n\n\tconst deleteField = async (property) => {\n\t\tsetValues({\n\t\t\t...values,\n\t\t\t[property]: '',\n\t\t})\n\t}\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault()\n\t}\n\n\tconst saveChanges = async () => {\n\t\tconst sectionUpdated = await updateSection(values, idSection)\n\t\tdispatchSections({ type: types.sectionUpdate, payload: sectionUpdated })\n\t\tSwal.fire('¡Chachi!', 'Los cambios han sido guardados', 'success')\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<section className='section-screen'>\n\t\t\t\t<h1>\n\t\t\t\t\tSección <span>{values?.sectionName}</span>\n\t\t\t\t</h1>\n\n\t\t\t\t<button className='my-btn mini' onClick={saveChanges}>\n\t\t\t\t\tGuardar Cambios\n\t\t\t\t</button>\n\n\t\t\t\t{user.email === 'admin@yai.com' && (\n\t\t\t\t\t<button className='my-btn secondary mini' onClick={handleDelete}>\n\t\t\t\t\t\tBorrar esta sección\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t{(title || title === '') && (\n\t\t\t\t\t<EditGroupSection nameValue={'title'} deleteField={deleteField} inputType='text' editLabel={'Título'} editAction={handleInputChange} editValue={values?.title} submitEdit={handleSubmit} />\n\t\t\t\t)}\n\t\t\t\t{subtitle && (\n\t\t\t\t\t<EditGroupSection\n\t\t\t\t\t\tnameValue={'subtitle'}\n\t\t\t\t\t\tdeleteField={deleteField}\n\t\t\t\t\t\tinputType='text'\n\t\t\t\t\t\teditLabel={'Subtítulo'}\n\t\t\t\t\t\teditAction={handleInputChange}\n\t\t\t\t\t\teditValue={values?.subtitle}\n\t\t\t\t\t\tsubmitEdit={handleSubmit}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{text && (\n\t\t\t\t\t<EditGroupSection nameValue={'text'} deleteField={deleteField} inputType='text' editLabel={'Texto'} editAction={handleInputChange} editValue={values?.text} submitEdit={handleSubmit} />\n\t\t\t\t)}\n\n\t\t\t\t{uniqueImage && (\n\t\t\t\t\t<EditGroupSection\n\t\t\t\t\t\timageEdit={true}\n\t\t\t\t\t\tnameValue={'uniqueImage'}\n\t\t\t\t\t\tdeleteField={deleteField}\n\t\t\t\t\t\tinputType='file'\n\t\t\t\t\t\teditLabel={'Imagen principal'}\n\t\t\t\t\t\teditAction={handleFileChange}\n\t\t\t\t\t\teditValue={values?.uniqueImage}\n\t\t\t\t\t\tsubmitEdit={handleSubmit}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{gallery?.length > 0 && (\n\t\t\t\t\t<div className='edit-gallery'>\n\t\t\t\t\t\t<div className='gallery'>\n\t\t\t\t\t\t\t{gallery?.map((picture, idx) => (\n\t\t\t\t\t\t\t\t<figure className='each-picture' key={idx}>\n\t\t\t\t\t\t\t\t\t<img src={picture} alt='' />\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon className='close-icon' onClick={() => deletePicture(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t\t<input className='file-input' type='file' onChange={handleGalleryChange} placeholder={'Añadir Foto'} name='gallery' />\n\t\t\t\t\t\t\t<button onClick={handleAddGallery} className='my-btn mini'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{features?.length > 0 && (\n\t\t\t\t\t<div className='edit-features'>\n\t\t\t\t\t\t<div className='features'>\n\t\t\t\t\t\t\t{features?.map((ft, idx) => (\n\t\t\t\t\t\t\t\t<div className='each-feat' key={ft}>\n\t\t\t\t\t\t\t\t\t{ft}\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon onClick={() => deleteFeature(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<input type='text' id='to-reset-features' onChange={handleFeatureChange} placeholder={'Añadir Característica'} name='features' />\n\t\t\t\t\t\t\t<button onClick={handleAddFeature} className='my-btn mini'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{formInputs?.length > 0 && (\n\t\t\t\t\t<div className='edit-features'>\n\t\t\t\t\t\t<div className='features'>\n\t\t\t\t\t\t\t{formInputs?.map((inp, idx) => (\n\t\t\t\t\t\t\t\t<div className='each-feat' key={inp}>\n\t\t\t\t\t\t\t\t\t{inp}\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon onClick={() => deleteFormInput(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t\t<input type='text' id='to-reset-inputs' onChange={handleChangeFormInput} placeholder={'Añadir Input'} name='formInputs' />\n\t\t\t\t\t\t\t<button onClick={handleAddFormInput} className='my-btn mini'>\n\t\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</section>\n\t\t</>\n\t)\n}\n","import React, { useContext, useState } from 'react'\nimport { fileUpload } from '../../helpers/uploadFiles'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport useForm from '../../hooks/useForm'\nimport { addSection } from '../../actions/sections.action'\nimport { SectionContext } from '../../reducers/sections/sectionsContext'\nimport { types } from '../../types/types'\n// values, setValues, handleInputChange, handleFileChange, resetForm\nexport const AddSection = ({ handleClose }) => {\n\tconst { dispatchSections } = useContext(SectionContext)\n\tconst [auxValue, setAuxValue] = useState()\n\n\tconst { values, setValues, handleInputChange, handleFileChange } = useForm()\n\tconst { uniqueImage, gallery, features, formInputs } = values\n\n\tconst clearInput = (input) => {\n\t\tconst theinput = document.getElementById(input)\n\t\ttheinput.value = ''\n\t}\n\n\tconst deleteFormInput = (idx) => {\n\t\tconst inputCopy = [...formInputs]\n\t\tinputCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tformInputs: inputCopy,\n\t\t})\n\t}\n\n\tconst handleChangeFormInput = (e) => {\n\t\tsetAuxValue(e.target.value)\n\t}\n\n\tconst handleAddFormInput = (e) => {\n\t\te.preventDefault()\n\t\tif (!formInputs) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tformInputs: [auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-section-inputs')\n\t\t} else if (!formInputs?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tformInputs: [...formInputs, auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-section-inputs')\n\t\t}\n\t\tclearInput('to-reset-section-inputs')\n\t}\n\tconst deleteFeature = (idx) => {\n\t\tconst featCopy = [...features]\n\t\tfeatCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tfeatures: featCopy,\n\t\t})\n\t}\n\n\tconst handleFeatureChange = (e) => {\n\t\tsetAuxValue(e.target.value)\n\t}\n\n\tconst handleAddFeature = (e) => {\n\t\te.preventDefault()\n\t\tif (!features) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-section-features')\n\t\t} else if (!features?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tfeatures: [...features, auxValue],\n\t\t\t})\n\t\t\tclearInput('to-reset-section-features')\n\t\t}\n\t\tclearInput('to-reset-section-features')\n\t}\n\n\tconst handleGalleryChange = async ({ target }) => {\n\t\tconst file = target.files[0]\n\t\tconst url = await fileUpload(file)\n\n\t\tsetAuxValue(url)\n\t}\n\n\tconst handleAddGallery = (e) => {\n\t\te.preventDefault()\n\t\tif (!gallery) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [auxValue],\n\t\t\t})\n\t\t} else if (!gallery?.includes(auxValue)) {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\tgallery: [...gallery, auxValue],\n\t\t\t})\n\t\t}\n\t}\n\n\tconst deletePicture = (idx) => {\n\t\tconst galleryCopy = [...gallery]\n\t\tgalleryCopy.splice(idx, 1)\n\t\tsetValues({\n\t\t\t...values,\n\t\t\tgallery: galleryCopy,\n\t\t})\n\t}\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault()\n\t\tconst newSection = await addSection(values)\n\t\tdispatchSections({ type: types.addSection, payload: newSection })\n\t\thandleClose()\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<form className='section-form' onSubmit={handleSubmit}>\n\t\t\t\t<div className='left-side'>\n\t\t\t\t\t<label>Tipo de sección* {values?.sectionType && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t<select onChange={handleInputChange} name='sectionType' required>\n\t\t\t\t\t\t<option value='section' defaultValue>\n\t\t\t\t\t\t\tSección\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value='nav'>Navegador</option>\n\t\t\t\t\t\t<option value='header'>Cabecera</option>\n\t\t\t\t\t\t<option value='footer'>Footer</option>\n\t\t\t\t\t</select>\n\n\t\t\t\t\t<label>Nombre de la sección* {values?.sectionName && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t<input type='text' onChange={handleInputChange} name='sectionName' autoComplete='off' placeholder='Nombre de la sección' required />\n\n\t\t\t\t\t<label>Título {values?.title && <FontAwesomeIcon className='check-ok' icon='check-circle' />}</label>\n\t\t\t\t\t<input type='text' onChange={handleInputChange} autoComplete='off' name='title' placeholder='Título' required />\n\n\t\t\t\t\t<label>Subtítulo </label>\n\t\t\t\t\t<input type='text' onChange={handleInputChange} autoComplete='off' name='subtitle' placeholder='Subtítulo' />\n\n\t\t\t\t\t<label>Texto </label>\n\t\t\t\t\t<textarea type='text' onChange={handleInputChange} autoComplete='off' name='text' placeholder='Texto' />\n\n\t\t\t\t\t<label>Imagen principal</label>\n\t\t\t\t\t{uniqueImage && (\n\t\t\t\t\t\t<figure className='unique-image'>\n\t\t\t\t\t\t\t<img src={uniqueImage} alt='' />\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<input className='file-input' type='file' onChange={handleFileChange} name='uniqueImage' />\n\t\t\t\t</div>\n\n\t\t\t\t<div className='right-side'>\n\t\t\t\t\t<label htmlFor=''>Galería de imágenes</label>\n\t\t\t\t\t<div className='gallery'>\n\t\t\t\t\t\t{gallery?.map((picture, idx) => (\n\t\t\t\t\t\t\t<figure className='each-picture' key={idx}>\n\t\t\t\t\t\t\t\t<img src={picture} alt='' />\n\t\t\t\t\t\t\t\t<FontAwesomeIcon className='close-icon' onClick={() => deletePicture(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='button-file-group'>\n\t\t\t\t\t\t<input className='file-input' type='file' onChange={handleGalleryChange} placeholder={'Añadir Foto'} name='gallery' />\n\t\t\t\t\t\t<button onClick={handleAddGallery} className='my-btn mini third'>\n\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<label htmlFor=''>Características</label>\n\t\t\t\t\t<div className='features'>\n\t\t\t\t\t\t{features?.map((ft, idx) => (\n\t\t\t\t\t\t\t<div className='each-feat' key={ft}>\n\t\t\t\t\t\t\t\t{ft}\n\t\t\t\t\t\t\t\t<FontAwesomeIcon onClick={() => deleteFeature(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t<input type='text' id='to-reset-section-features' onChange={handleFeatureChange} placeholder={'Añadir Característica'} name='features' />\n\t\t\t\t\t\t<button onClick={handleAddFeature} className='my-btn mini third'>\n\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<label>Inputs del formulario</label>\n\t\t\t\t\t<div className='features'>\n\t\t\t\t\t\t{formInputs?.map((inp, idx) => (\n\t\t\t\t\t\t\t<div className='each-feat' key={inp}>\n\t\t\t\t\t\t\t\t{inp}\n\t\t\t\t\t\t\t\t<FontAwesomeIcon onClick={() => deleteFormInput(idx)} icon='times-circle' />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='button-input-group'>\n\t\t\t\t\t\t<input type='text' id='to-reset-section-inputs' onChange={handleChangeFormInput} placeholder={'Añadir Input'} name='formInputs' />\n\t\t\t\t\t\t<button onClick={handleAddFormInput} className='my-btn mini third'>\n\t\t\t\t\t\t\tAñadir\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button className='my-btn mini' type='submit'>\n\t\t\t\t\tGuardar Datos\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</>\n\t)\n}\n","import { types } from '../../types/types'\n\nexport const SectionsReducer = (state = [], action) => {\n\tswitch (action.type) {\n\t\tcase types.getSections:\n\t\t\treturn action.payload\n\n\t\tcase types.addSection:\n\t\t\treturn [...state, action.payload]\n\n\t\tcase types.deleteSection:\n\t\t\treturn action.payload\n\n\t\tcase types.updateThis:\n\t\t\treturn { ...action.payload }\n\n\t\tcase types.sectionUpdate:\n\t\t\treturn action.payload\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import React, { useContext, useEffect, useReducer, useRef, useState } from 'react'\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom'\nimport { AuthContext } from './../reducers/auth/AuthContext'\nimport { Navbar } from '../ui/Navbar'\nimport { DashboardNav } from '../ui/DashboardNav'\nimport { DashboardScreen } from '../components/DashboardScreen'\nimport { CompanyScreen } from '../components/CompanyScreen'\nimport { LoginScreen } from '../components/auth/LoginScreen'\nimport { SignupScreen } from '../components/auth/SignupScreen'\nimport { MaquinasScreen } from '../components/MaquinasScreen'\nimport { SectionScreen } from '../components/SectionScreen'\nimport Modal from 'react-bootstrap/Modal'\nimport { fetchSinToken } from '../helpers/fetch'\nimport { AddSection } from '../components/sections/AddSection'\nimport { SectionsReducer } from '../reducers/sections/SectionsReducer'\nimport { SectionContext } from '../reducers/sections/sectionsContext'\nimport { types } from '../types/types'\n\nexport const AppRouter = () => {\n\tconst isMounted = useRef(true)\n\tconst { user } = useContext(AuthContext)\n\tconst [sections, dispatchSections] = useReducer(SectionsReducer, {})\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false\n\t\t}\n\t})\n\n\tuseEffect(() => {\n\t\tif (isMounted.current) {\n\t\t\tfetchSinToken(`section`)\n\t\t\t\t.then((data) => data.json())\n\t\t\t\t.then((data) => dispatchSections({ type: types.getSections, payload: data.sections }))\n\t\t\t\t.catch((err) => new Error(err))\n\t\t}\n\t}, [])\n\n\tconst [show, setShow] = useState(false)\n\tconst handleClose = () => setShow(false)\n\tconst handleShow = () => setShow(true)\n\n\treturn (\n\t\t<Router>\n\t\t\t<div>\n\t\t\t\t{user.token ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<SectionContext.Provider value={{ sections, dispatchSections }}>\n\t\t\t\t\t\t\t<div className='dashboard-container'>\n\t\t\t\t\t\t\t\t<DashboardNav handleShow={handleShow} />\n\n\t\t\t\t\t\t\t\t<main>\n\t\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t\t<Route exact path='/mbr' component={DashboardScreen} />\n\t\t\t\t\t\t\t\t\t\t<Route path='/mbr/empresa' component={CompanyScreen} />\n\t\t\t\t\t\t\t\t\t\t<Route path='/mbr/maquinaria' component={MaquinasScreen} />\n\t\t\t\t\t\t\t\t\t\t<Route path='/mbr/seccion/:id' component={(props) => <SectionScreen {...props} />} />\n\t\t\t\t\t\t\t\t\t\t<Redirect to='/mbr' />\n\t\t\t\t\t\t\t\t\t</Switch>\n\n\t\t\t\t\t\t\t\t\t<Modal dialogClassName='modal-width' centered className='my-modals' show={show} onHide={handleClose}>\n\t\t\t\t\t\t\t\t\t\t<Modal.Header>\n\t\t\t\t\t\t\t\t\t\t\t<h1>Añadir Sección a la web</h1>\n\t\t\t\t\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t\t\t\t\t\t<AddSection handleClose={handleClose} />\n\t\t\t\t\t\t\t\t\t\t</Modal.Body>\n\n\t\t\t\t\t\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t\t\t\t\t\t<button className='my-btn mini secondary' onClick={handleClose}>\n\t\t\t\t\t\t\t\t\t\t\t\tcerrar\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</Modal.Footer>\n\t\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t\t</main>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</SectionContext.Provider>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Navbar />\n\n\t\t\t\t\t\t<main className='container'>\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route exact path='/' component={LoginScreen} />\n\t\t\t\t\t\t\t\t<Route path='/registro' component={SignupScreen} />\n\t\t\t\t\t\t\t\t<Redirect to='/' />\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t<small>Made with &hearts; by Yai</small>\n\t\t\t\t\t\t\t<small>&copy; Mecánica Brañosera S.L.</small>\n\t\t\t\t\t\t</main>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Router>\n\t)\n}\n","import { useEffect, useReducer, useRef, useState } from 'react'\nimport { AuthContext } from './reducers/auth/AuthContext'\nimport { AuthReducer } from './reducers/auth/authReducer'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './global.scss'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\nimport { faTimesCircle, faChevronDown, faChevronUp, faCheckCircle } from '@fortawesome/free-solid-svg-icons'\n\nimport { AppRouter } from './routers/AppRouter'\nlibrary.add(fab, faTimesCircle, faChevronDown, faChevronUp, faCheckCircle)\n\nconst init = () => {\n\treturn JSON.parse(localStorage.getItem('mbr-user')) || { logged: false }\n}\nconst App = () => {\n\tconst isMounted = useRef(true)\n\tconst [user, dispatch] = useReducer(AuthReducer, {}, init)\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (isMounted.current) {\n\t\t\tlocalStorage.setItem('mbr-user', JSON.stringify(user))\n\t\t}\n\t}, [user])\n\n\treturn (\n\t\t<>\n\t\t\t<AuthContext.Provider value={{ user, dispatch }}>\n\t\t\t\t<AppRouter />\n\t\t\t</AuthContext.Provider>\n\t\t</>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}